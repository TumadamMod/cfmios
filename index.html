<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>
      Aovcheat v1.60.11505108 - Tải IPA ITMS Link - Anhvu.cc
    </title>
    <meta name="description" content="Tải Aovcheat v1.60.11505108 cho iOS - Hack Map Li Qi mobile VN. Hỗ trợ TrollStore, Esign, Sideloadly. Size: 184.01 MB." />
    <meta name="keywords" content="Aovcheat, Aovcheat iOS, Aovcheat IPA, Aovcheat mod, Aovcheat hack, com.garena.game.kgvn1, tải Aovcheat, ITMS Link, IPA, iOS" />
    <meta name="author" content="Anhvu99er" />
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <link rel="canonical" href="https://anhvu.cc/aovcheat/" />
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://anhvu.cc/aovcheat/" />
    <meta property="og:title" content="Aovcheat v1.60.11505108 - Tải IPA miễn phí" />
    <meta property="og:description" content="Hack Map Li Qi mobile VN - Size: 184.01 MB. Tải ngay tại Anhvu.cc!" />
    <meta property="og:image" content="https://anhvu.cc/media/aovcheat/icons/icon.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="Anhvu.cc" />
    <meta property="og:locale" content="vi_VN" />
    <meta property="og:locale:alternate" content="en_US" />
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://anhvu.cc/aovcheat/" />
    <meta name="twitter:title" content="Aovcheat v1.60.11505108" />
    <meta name="twitter:description" content="Hack Map Li Qi mobile VN" />
    <meta name="twitter:image" content="https://anhvu.cc/media/aovcheat/icons/icon.png" />
    <meta name="twitter:creator" content="@anhvu99er" />
    <!-- Additional SEO -->
    <meta name="theme-color" content="#000000" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="format-detection" content="telephone=no" />
    <!-- Telegram -->
    <meta property="telegram:channel" content="@anhvu99ers" />
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
      {
        &#34;@context&#34;: &#34;https://schema.org&#34;,
        &#34;@type&#34;: &#34;WebSite&#34;,
        &#34;name&#34;: &#34;Anhvu.cc&#34;,
        &#34;alternateName&#34;: &#34;Anhvu99er&#34;,
        &#34;url&#34;: &#34;https://anhvu.cc&#34;,
        &#34;description&#34;: &#34;Thư viện IPA miễn phí, TrollStore, Chứng Chỉ iOS, Jailbreak. Dịch vụ certificate ký ứng dụng iOS uy tín.&#34;,
        &#34;potentialAction&#34;: {
            &#34;@type&#34;: &#34;SearchAction&#34;,
            &#34;target&#34;: &#34;https://anhvu.cc/?q={search_term_string}&#34;,
            &#34;query-input&#34;: &#34;required name=search_term_string&#34;
        },
        &#34;publisher&#34;: {
            &#34;@type&#34;: &#34;Organization&#34;,
            &#34;name&#34;: &#34;Anhvu.cc&#34;,
            &#34;logo&#34;: {
                &#34;@type&#34;: &#34;ImageObject&#34;,
                &#34;url&#34;: &#34;https://anhvu.cc/favicon/apple-touch-icon.png&#34;
            },
            &#34;sameAs&#34;: [
                &#34;https://t.me/anhvu99ers&#34;,
                &#34;https://zalo.me/g/jojnmh018&#34;
            ]
        }
    }
    </script>
    <!-- Google Analytics (Optional - Add your GA4 ID) -->
    <!-- Google Search Console Verification (Add after registering in Search Console) -->
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon/favicon.ico" />
    <link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg" />
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon/favicon-96x96.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png" />
    <link rel="manifest" href="/favicon/site.webmanifest" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <script src="https://cdn.tailwindcss.com">
    </script>
    <style>
      * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, &#39;Segoe UI&#39;, Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(200%); }
        }
        
        .shimmer {
            animation: shimmer 3s infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .float-animation {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .animate-rainbow {
            animation: rainbow 3s ease infinite;
            background-size: 200% 200%;
        }
        
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.2); }
        
        /* Mobile menu animation */
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-slideDown {
            animation: slideDown 0.3s ease-out;
        }
    </style>
  </head>
  <body class="bg-black">
    <div class="min-h-screen bg-black" style="padding-top: env(safe-area-inset-top);">
      <!-- Navigation Bar -->
      <nav class="border-b border-white/10 bg-gradient-to-br from-[#010101] via-[#090909] to-[#010101] sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 relative">
          <div class="flex items-center justify-between gap-3">
            <div class="flex items-center gap-3 sm:gap-8">
              <!-- Logo with typing effect -->
              <a href="/" class="group flex items-center gap-3 no-underline">              <!-- Logo Icon -->
              <img src="/favicon/favicon.svg" alt="Anhvu.cc" class="w-10 h-10 shrink-0 rounded-lg" />
              <!-- Text with typing effect -->
              <div class="flex items-baseline gap-2">
                <!-- Default Text "Anhvu.cc" -->
                <span class="text-white font-black text-xl">                Anhvu.cc
</span>
                <!-- Expanded Text "IPA Library" on hover -->
                <span class="origin-left inline-flex duration-300 opacity-0 group-hover:opacity-100 transform scale-x-0 group-hover:scale-x-100 transition-all text-gray-400 font-medium text-sm whitespace-nowrap hidden sm:inline-flex">                — IPA Library
</span>
              </div>
</a>
              <!-- Category Navigation - Desktop -->
              <div class="hidden lg:flex items-center gap-2">
                <a href="/" class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 no-underline bg-blue-500/20 text-blue-300 border border-blue-500/40">                <i class="fas fa-home"></i>
                Trang chủ
</a>
                <a href="/?category=app" class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 no-underline text-gray-400 hover:text-white hover:bg-white/5">                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.805 23.486" class="w-3.5 h-3.5" style="fill: currentColor;">
                  <g fill="currentColor">
                    <path d="m2.48 15.137 6.036 2.754c1.445.664 2.578.976 3.7.976 1.134 0 2.266-.312 3.712-.976l6.035-2.754c.044-.02.087-.04.127-.063.458.395.625.835.625 1.293 0 .674-.352 1.299-1.475 1.807l-6.025 2.754c-1.26.576-2.158.82-2.998.82-.83 0-1.729-.244-2.988-.82l-6.026-2.754C2.08 17.666 1.73 17.04 1.73 16.367c0-.459.163-.9.622-1.294Z">
                    </path>
                    <path d="m2.48 10.479 6.036 2.763c1.445.654 2.578.977 3.7.977 1.134 0 2.266-.322 3.712-.977l6.035-2.764c.036-.016.07-.032.103-.05.476.397.649.844.649 1.31 0 .674-.352 1.3-1.475 1.817l-6.025 2.744c-1.26.576-2.158.82-2.998.82-.83 0-1.729-.244-2.988-.82l-6.026-2.744c-1.123-.518-1.474-1.143-1.474-1.817 0-.466.168-.914.646-1.311Z">
                    </path>
                    <path d="M12.217 12.49c.84 0 1.738-.244 2.998-.82l6.025-2.754c1.123-.508 1.475-1.133 1.475-1.807 0-.683-.361-1.308-1.475-1.816l-6.045-2.744c-1.23-.557-2.129-.82-2.978-.82-.84 0-1.739.263-2.979.82L3.203 5.293C2.08 5.801 1.73 6.426 1.73 7.109c0 .674.351 1.3 1.474 1.807L9.23 11.67c1.26.576 2.158.82 2.988.82Z">
                    </path>
                  </g>
                </svg>
                Apps
</a>
                <a href="/?category=game" class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 no-underline text-gray-400 hover:text-white hover:bg-white/5">                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20.904 20.654" class="w-3.5 h-3.5" style="fill: currentColor;">
                  <path d="M8.118 20.508c1.026-.225 2.842-.86 3.74-1.553 1.3-1.006 1.924-2.11 1.827-3.896l-.03-.899c.83-.566 1.631-1.26 2.403-2.05 2.715-2.784 4.482-7.208 4.482-11.065C20.54.459 20.071 0 19.485 0c-3.847 0-8.271 1.768-11.054 4.473-.82.81-1.504 1.591-2.06 2.412l-.89-.03c-1.718-.078-2.86.46-3.896 1.817-.693.918-1.338 2.715-1.562 3.75-.147.713.449 1.035.976.898 1.152-.224 2.393-.722 3.399-.644v.634c-.02.45.039.733.38 1.085l1.368 1.357c.36.351.634.42 1.084.4l.625-.02c.107 1.036-.372 2.247-.635 3.4-.186.663.283 1.113.898.976ZM13.89 8.71a2.065 2.065 0 0 1-2.07-2.07c0-1.153.917-2.08 2.07-2.08a2.076 2.076 0 1 1 0 4.15ZM2.59 19.1l1.651-.048c.537-.01.967-.176 1.319-.528.44-.44.556-1.064.478-1.494-.058-.351-.41-.449-.566-.166-.069.098-.127.196-.244.303-.245.254-.43.313-.743.332l-.966.059a.265.265 0 0 1-.274-.264l.059-.977c.02-.322.088-.508.332-.732a1.53 1.53 0 0 1 .312-.244c.274-.127.176-.527-.166-.576a1.78 1.78 0 0 0-1.494.488c-.361.371-.527.781-.537 1.309l-.049 1.65c-.02.547.352.908.889.889Z" fill="currentColor">
                  </path>
                </svg>
                Game
</a>
                <a href="/?category=tool" class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 no-underline text-gray-400 hover:text-white hover:bg-white/5">                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-3.5 h-3.5" style="fill: currentColor;">
                  <path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z">
                  </path>
                </svg>
                TrollStore
</a>
                <a href="/tools/" class="group relative flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 no-underline text-gray-400 hover:text-white hover:bg-white/5" title="Các công cụ hay">                <i class="fas fa-tools"></i>
                <span>                Tools
</span>
                <!-- Tooltip -->
                <span class="absolute -bottom-10 left-1/2 -translate-x-1/2 px-2 py-1 bg-gray-900 text-white text-[10px] rounded opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 whitespace-nowrap pointer-events-none z-50">                Các công cụ hay
</span>
</a>
                <div class="group relative">
                  <a href="/cert/" class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 no-underline bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/40 text-blue-300 hover:from-blue-500/30 hover:to-purple-500/30" title="iOS Certificate Signing">                  <i class="fas fa-cart-shopping"></i>
                  <span>                  Mua Chứng chỉ
</span>
</a>
                  <!-- Dropdown Menu -->
                </div>
              </div>
              <!-- User Auth Buttons - Desktop (same row as categories) -->
              <div class="hidden lg:flex items-center gap-2 ml-auto">
                <a href="/user/login/" class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 no-underline text-gray-400 hover:text-white hover:bg-white/5">                <i class="fas fa-sign-in-alt"></i>
                <span>                Đăng nhập
</span>
</a>
                <a href="/user/register/" class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 no-underline bg-blue-500/20 text-blue-300 border border-blue-500/40 hover:bg-blue-500/30">                <i class="fas fa-user-plus"></i>
                <span>                Đăng ký
</span>
</a>
              </div>
            </div>
          </div>
          <!-- Right Section: Social Links -->
          <div class="flex items-center gap-2">
            <!-- Zalo Group Button -->
            <a href="https://zalo.me/g/jojnmh018" target="_blank" rel="noopener noreferrer" class="group relative animate-rainbow cursor-pointer border-0 bg-[linear-gradient(#121213,#121213),linear-gradient(#121213_50%,rgba(18,18,19,0.6)_80%,rgba(18,18,19,0)),linear-gradient(90deg,hsl(210,100%,63%),hsl(210,100%,63%),hsl(210,100%,63%),hsl(210,100%,63%),hsl(210,100%,63%))] bg-[length:200%] [background-clip:padding-box,border-box,border-box] [background-origin:border-box] [border:calc(0.08*1rem)_solid_transparent] before:absolute before:bottom-[-20%] before:left-1/2 before:z-0 before:h-[20%] before:w-[60%] before:-translate-x-1/2 before:animate-rainbow before:bg-[linear-gradient(90deg,hsl(210,100%,63%),hsl(210,100%,63%),hsl(210,100%,63%),hsl(210,100%,63%),hsl(210,100%,63%))] before:[filter:blur(calc(0.8*1rem))] hover:scale-105 active:scale-95 h-8 px-2 sm:px-3 py-1.5 inline-flex items-center justify-center rounded-md text-xs font-medium transition-transform duration-200" title="Tham gia nhóm Zalo">            <img src="https://img.icons8.com/?size=48&amp;id=0m71tmRjlxEe&amp;format=png&amp;color=000000" alt="zalo" class="w-4 h-4 opacity-90" />
            <span class="ml-1.5 text-white font-medium">            Group Zalo
</span>
</a>
            <!-- Telegram Channel Button -->
            <a href="https://t.me/anhvu99ers" target="_blank" rel="noopener noreferrer" class="group relative animate-rainbow cursor-pointer border-0 bg-[linear-gradient(#121213,#121213),linear-gradient(#121213_50%,rgba(18,18,19,0.6)_80%,rgba(18,18,19,0)),linear-gradient(90deg,hsl(195,100%,63%),hsl(195,100%,63%),hsl(195,100%,63%),hsl(195,100%,63%),hsl(195,100%,63%))] bg-[length:200%] [background-clip:padding-box,border-box,border-box] [background-origin:border-box] [border:calc(0.08*1rem)_solid_transparent] before:absolute before:bottom-[-20%] before:left-1/2 before:z-0 before:h-[20%] before:w-[60%] before:-translate-x-1/2 before:animate-rainbow before:bg-[linear-gradient(90deg,hsl(195,100%,63%),hsl(195,100%,63%),hsl(195,100%,63%),hsl(195,100%,63%),hsl(195,100%,63%))] before:[filter:blur(calc(0.8*1rem))] hover:scale-105 active:scale-95 h-8 px-2 sm:px-3 py-1.5 inline-flex items-center justify-center rounded-md text-xs font-medium transition-transform duration-200" title="Theo dõi kênh Telegram">            <img src="https://img.icons8.com/fluency/48/telegram-app.png" alt="telegram" class="w-4 h-4 opacity-90" />
            <span class="ml-1.5 text-white font-medium">            Kênh Telegram
</span>
</a>
          </div>
          <!-- Mobile Menu Toggle - Absolute Right Corner -->
          <button id="mobileMenuBtn" class="lg:hidden p-2 rounded-lg text-gray-400 hover:text-white hover:bg-white/5 transition-all absolute right-4 top-1/2 -translate-y-1/2">
            <i class="fas fa-bars text-lg"></i>
          </button>
          <!-- Mobile Menu - Category Navigation + Auth -->
          <div id="mobileMenu" class="lg:hidden hidden absolute right-4 top-full mt-2 w-48 animate-slideDown z-50">
            <div class="bg-gradient-to-br from-[#010101] via-[#090909] to-[#010101] border border-white/10 rounded-xl shadow-2xl overflow-hidden">
              <div class="flex flex-col p-2">
                <a href="/" class="flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 no-underline bg-blue-500/20 text-blue-300 border border-blue-500/40">                <i class="fas fa-home w-4 text-center"></i>
                Trang chủ
</a>
                <a href="/?category=app" class="flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 no-underline text-gray-400 hover:text-white hover:bg-white/5">                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24.805 23.486" class="w-4 h-4" style="fill: currentColor;">
                  <g fill="currentColor">
                    <path d="m2.48 15.137 6.036 2.754c1.445.664 2.578.976 3.7.976 1.134 0 2.266-.312 3.712-.976l6.035-2.754c.044-.02.087-.04.127-.063.458.395.625.835.625 1.293 0 .674-.352 1.299-1.475 1.807l-6.025 2.754c-1.26.576-2.158.82-2.998.82-.83 0-1.729-.244-2.988-.82l-6.026-2.754C2.08 17.666 1.73 17.04 1.73 16.367c0-.459.163-.9.622-1.294Z">
                    </path>
                    <path d="m2.48 10.479 6.036 2.763c1.445.654 2.578.977 3.7.977 1.134 0 2.266-.322 3.712-.977l6.035-2.764c.036-.016.07-.032.103-.05.476.397.649.844.649 1.31 0 .674-.352 1.3-1.475 1.817l-6.025 2.744c-1.26.576-2.158.82-2.998.82-.83 0-1.729-.244-2.988-.82l-6.026-2.744c-1.123-.518-1.474-1.143-1.474-1.817 0-.466.168-.914.646-1.311Z">
                    </path>
                    <path d="M12.217 12.49c.84 0 1.738-.244 2.998-.82l6.025-2.754c1.123-.508 1.475-1.133 1.475-1.807 0-.683-.361-1.308-1.475-1.816l-6.045-2.744c-1.23-.557-2.129-.82-2.978-.82-.84 0-1.739.263-2.979.82L3.203 5.293C2.08 5.801 1.73 6.426 1.73 7.109c0 .674.351 1.3 1.474 1.807L9.23 11.67c1.26.576 2.158.82 2.988.82Z">
                    </path>
                  </g>
                </svg>
                Apps
</a>
                <a href="/?category=game" class="flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 no-underline text-gray-400 hover:text-white hover:bg-white/5">                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20.904 20.654" class="w-4 h-4" style="fill: currentColor;">
                  <path d="M8.118 20.508c1.026-.225 2.842-.86 3.74-1.553 1.3-1.006 1.924-2.11 1.827-3.896l-.03-.899c.83-.566 1.631-1.26 2.403-2.05 2.715-2.784 4.482-7.208 4.482-11.065C20.54.459 20.071 0 19.485 0c-3.847 0-8.271 1.768-11.054 4.473-.82.81-1.504 1.591-2.06 2.412l-.89-.03c-1.718-.078-2.86.46-3.896 1.817-.693.918-1.338 2.715-1.562 3.75-.147.713.449 1.035.976.898 1.152-.224 2.393-.722 3.399-.644v.634c-.02.45.039.733.38 1.085l1.368 1.357c.36.351.634.42 1.084.4l.625-.02c.107 1.036-.372 2.247-.635 3.4-.186.663.283 1.113.898.976ZM13.89 8.71a2.065 2.065 0 0 1-2.07-2.07c0-1.153.917-2.08 2.07-2.08a2.076 2.076 0 1 1 0 4.15ZM2.59 19.1l1.651-.048c.537-.01.967-.176 1.319-.528.44-.44.556-1.064.478-1.494-.058-.351-.41-.449-.566-.166-.069.098-.127.196-.244.303-.245.254-.43.313-.743.332l-.966.059a.265.265 0 0 1-.274-.264l.059-.977c.02-.322.088-.508.332-.732a1.53 1.53 0 0 1 .312-.244c.274-.127.176-.527-.166-.576a1.78 1.78 0 0 0-1.494.488c-.361.371-.527.781-.537 1.309l-.049 1.65c-.02.547.352.908.889.889Z" fill="currentColor">
                  </path>
                </svg>
                Game
</a>
                <a href="/?category=tool" class="flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 no-underline text-gray-400 hover:text-white hover:bg-white/5">                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-4 h-4" style="fill: currentColor;">
                  <path d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z">
                  </path>
                </svg>
                TrollStore
</a>
                <a href="/tools/" class="flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 no-underline text-gray-400 hover:text-white hover:bg-white/5">                <i class="fas fa-tools w-4 text-center"></i>
                Tools
</a>
                <!-- Certificate Section -->
                <div class="border-t border-white/10 my-2">
                </div>
                <a href="/cert/" class="flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 no-underline bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/40 text-blue-300">                <i class="fas fa-cart-shopping w-4 text-center"></i>
                Mua Chứng chỉ
</a>
                <a href="/cert/receive/" class="flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 no-underline text-gray-400 hover:text-white hover:bg-white/5 ml-4">                <i class="fas fa-box-open w-4 text-center"></i>
                Nhận hàng chứng chỉ
</a>
                <div class="border-t border-white/10 my-2">
                </div>
                <a href="/user/login/" class="flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 no-underline text-gray-400 hover:text-white hover:bg-white/5">                <i class="fas fa-sign-in-alt w-4 text-center"></i>
                Đăng nhập
</a>
                <a href="/user/register/" class="flex items-center gap-2 px-3 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 no-underline bg-blue-500/20 text-blue-300 border border-blue-500/40">                <i class="fas fa-user-plus w-4 text-center"></i>
                Đăng ký
</a>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <!-- Main Content -->
      <main class="container mx-auto px-4 py-8">
        <!-- Structured Data for Google Rich Results -->
        <script type="application/ld+json">
          {
  &#34;@context&#34;: &#34;https://schema.org&#34;,
  &#34;@type&#34;: &#34;SoftwareApplication&#34;,
  &#34;name&#34;: &#34;Aovcheat&#34;,
  &#34;applicationCategory&#34;: &#34;UtilitiesApplication&#34;,
  &#34;operatingSystem&#34;: &#34;iOS&#34;,
  &#34;offers&#34;: {
    &#34;@type&#34;: &#34;Offer&#34;,
    &#34;price&#34;: &#34;0&#34;,
    &#34;priceCurrency&#34;: &#34;VND&#34;
  },
  &#34;image&#34;: &#34;https://anhvu.cc/media/aovcheat/icons/icon.png&#34;,
  &#34;description&#34;: &#34;Hack Map Li Qi mobile VN&#34;,
  &#34;softwareVersion&#34;: &#34;1.60.11505108&#34;,
  &#34;fileSize&#34;: &#34;184.01 MB&#34;,
  &#34;identifier&#34;: &#34;com.garena.game.kgvn1&#34;,
  &#34;dateModified&#34;: &#34;2025-12-18T01:23:15.803016+07:00&#34;,
  &#34;aggregateRating&#34;: {
    &#34;@type&#34;: &#34;AggregateRating&#34;,
    &#34;ratingValue&#34;: &#34;4.5&#34;,
    &#34;ratingCount&#34;: &#34;673&#34;
  },
  &#34;downloadUrl&#34;: &#34;https://anhvu.cc/aovcheat/download/&#34;,
  &#34;author&#34;: {
    &#34;@type&#34;: &#34;Organization&#34;,
    &#34;name&#34;: &#34;Anhvu.cc&#34;,
    &#34;url&#34;: &#34;https://anhvu.cc&#34;
  }
}
        </script>
        <div class="max-w-7xl mx-auto">
          <!-- Back Button -->
          <a href="/" class="inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-white/10 bg-gradient-to-br from-black/60 to-black/40 hover:bg-white/10 transition-all duration-300 transform hover:scale-105 active:scale-95 mb-6 group text-sm no-underline text-white">          <i class="fas fa-arrow-left text-blue-400 transform transition-transform duration-300 group-hover:-translate-x-1"></i>
          <span class="font-semibold">          Quay lại
</span>
</a>
          <!-- Main Content Grid -->
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
            <!-- Left Column: App Info Card -->
            <div class="lg:col-span-2">
              <!-- Single Unified App Card -->
              <div class="rounded-3xl border border-white/10 bg-gradient-to-br from-[#010101] via-[#090909] to-[#010101] overflow-hidden shadow-2xl">
                <div class="p-6 sm:p-8">
                  <!-- App Header -->
                  <div class="pb-6 border-b border-white/10">
                    <div class="flex flex-col lg:flex-row items-start gap-4 mb-4">
                      <!-- Left: Icon + Title + Badges + Meta -->
                      <div class="flex-1 w-full lg:w-auto">
                        <div class="flex items-start gap-4 mb-4">
                          <!-- App Icon -->
                          <img src="/media/aovcheat/icons/icon.png" alt="Aovcheat" class="w-20 h-20 sm:w-24 sm:h-24 rounded-2xl shadow-xl object-cover flex-shrink-0 border border-white/20" />
                          <!-- Title & Description -->
                          <div class="flex-1 min-w-0">
                            <h1 class="text-2xl sm:text-4xl font-bold text-white leading-tight mb-2">
                              Aovcheat
                            </h1>
                            <p class="text-sm text-gray-400">
                              Hack Map Li Qi mobile VN
                            </p>
                          </div>
                        </div>
                        <!-- Badges Row -->
                        <div class="flex flex-wrap gap-3 items-center text-sm mb-3">
                          <span class="font-semibold text-orange-400">                          ITMS Link
</span>
                          <span class="text-gray-400">                          • v1.60.11505108
</span>
                          <span class="text-gray-400">                          • 184.01 MB
</span>
                        </div>
                        <!-- Meta info -->
                        <div class="flex flex-wrap gap-x-4 gap-y-2 text-sm text-gray-400">
                          <span class="flex items-center gap-1.5">                          <i class="fas fa-download text-green-400"></i>
                          673 lượt tải
</span>
                          <span class="flex items-center gap-1.5">                          <i class="fas fa-clock text-purple-400"></i>
                          15 ngày trước
</span>
                        </div>
                      </div>
                      <!-- Right: Download Button (Desktop only, hidden on mobile) -->
                      <div class="hidden lg:flex flex-shrink-0 items-start">
                        <a href="/aovcheat/download/" class="relative inline-flex h-12 active:scale-95 transition overflow-hidden rounded-lg p-[1px] focus:outline-none no-underline">                        <span class="absolute inset-[-1000%] animate-[spin_2s_linear_infinite] bg-[conic-gradient(from_90deg_at_50%_50%,#e7029a_0%,#f472b6_50%,#bd5fff_100%)]"></span>
                        <span class="inline-flex h-full w-full cursor-pointer items-center justify-center rounded-lg bg-slate-950 px-7 text-sm font-medium text-white backdrop-blur-3xl gap-2">                        Cài Đặt
                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                          <path d="M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z">
                          </path>
                        </svg>
</span>
</a>
                      </div>
                    </div>
                  </div>
                  <!-- Bundle ID - Important info first -->
                  <div class="py-4 border-b border-white/10">
                    <div class="flex items-start gap-3">
                      <span class="text-xs text-gray-500 uppercase tracking-wider font-semibold pt-0.5 min-w-[80px]">                      Bundle ID
</span>
                      <code class="flex-1 text-sm text-gray-300 break-all select-all">                      com.garena.game.kgvn1
</code>
                    </div>
                  </div>
                  <!-- Download Button (Mobile only, below bundle ID) -->
                  <div class="lg:hidden py-6 border-b border-white/10">
                    <div class="flex justify-center">
                      <a href="/aovcheat/download/" class="relative inline-flex h-12 active:scale-95 transition overflow-hidden rounded-lg p-[1px] focus:outline-none no-underline">                      <span class="absolute inset-[-1000%] animate-[spin_2s_linear_infinite] bg-[conic-gradient(from_90deg_at_50%_50%,#e7029a_0%,#f472b6_50%,#bd5fff_100%)]"></span>
                      <span class="inline-flex h-full w-full cursor-pointer items-center justify-center rounded-lg bg-slate-950 px-7 text-sm font-medium text-white backdrop-blur-3xl gap-2">                      Cài Đặt
                      <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                        <path d="M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32V274.7l-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7V32zM64 352c-35.3 0-64 28.7-64 64v32c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V416c0-35.3-28.7-64-64-64H346.5l-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352H64zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z">
                        </path>
                      </svg>
</span>
</a>
                    </div>
                  </div>
                  <!-- Features Checklist -->
                  <div class="py-6 border-b border-white/10">
                    <h2 class="text-base font-semibold text-white mb-4 flex items-center gap-2">
                      <i class="fas fa-list-check text-green-400"></i>
                      Tính năng
                    </h2>
                    <ul class="space-y-3">
                      <li class="flex items-start gap-3 text-sm text-gray-300">
                        <i class="fas fa-check-circle text-green-400 mt-0.5 flex-shrink-0"></i>
                        <span>                        Hack Map
</span>
                      </li>
                      <li class="flex items-start gap-3 text-sm text-gray-300">
                        <i class="fas fa-check-circle text-green-400 mt-0.5 flex-shrink-0"></i>
                        <span>                        Mod Full Skin
</span>
                      </li>
                      <li class="flex items-start gap-3 text-sm text-gray-300">
                        <i class="fas fa-check-circle text-green-400 mt-0.5 flex-shrink-0"></i>
                        <span>                        Mod Full nút bấm, thông báo hạ
</span>
                      </li>
                      <li class="flex items-start gap-3 text-sm text-gray-300">
                        <i class="fas fa-check-circle text-green-400 mt-0.5 flex-shrink-0"></i>
                        <span>                        Aim 3.0 - Đa tướng, đón đầu.
</span>
                      </li>
                      <li class="flex items-start gap-3 text-sm text-gray-300">
                        <i class="fas fa-check-circle text-green-400 mt-0.5 flex-shrink-0"></i>
                        <span>                        Bug Skill - dùng skill xa hơn với một số tướng ( thane, nak, kerraa...)
</span>
                      </li>
                      <li class="flex items-start gap-3 text-sm text-gray-300">
                        <i class="fas fa-check-circle text-green-400 mt-0.5 flex-shrink-0"></i>
                        <span>                        Camera Height - kéo xa gần
</span>
                      </li>
                      <li class="flex items-start gap-3 text-sm text-gray-300">
                        <i class="fas fa-check-circle text-green-400 mt-0.5 flex-shrink-0"></i>
                        <span>                        autowin bot
</span>
                      </li>
                      <li class="flex items-start gap-3 text-sm text-gray-300">
                        <i class="fas fa-check-circle text-green-400 mt-0.5 flex-shrink-0"></i>
                        <span>                        Auto Trừng Trị, Bộc Phá, Băng Sương
</span>
                      </li>
                      <li class="flex items-start gap-3 text-sm text-gray-300">
                        <i class="fas fa-check-circle text-green-400 mt-0.5 flex-shrink-0"></i>
                        <span>                        Auto mua bán đồ
</span>
                      </li>
                    </ul>
                  </div>
                  <!-- Buy Key Section -->
                  <div class="py-6 border-b border-white/10" id="buyKeySection">
                    <h2 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                      <i class="fas fa-key text-green-400"></i>
                      Mua Key
                    </h2>
                    <!-- Order Form (Hidden when order created) -->
                    <div id="orderFormContainer">
                      <form id="quickOrderForm" class="space-y-3" onsubmit="handleQuickOrder(event)">
                        <!-- Key Package Select -->
                        <div>
                          <label class="block text-sm font-medium text-gray-300 mb-2">
                            Chọn gói key
                          </label>
                          <select id="selected_pricing_id" name="pricing_id" required="" class="w-full px-4 py-3 bg-black/30 border border-white/10 rounded-xl text-white focus:border-green-500 focus:ring-2 focus:ring-green-500/20 outline-none transition-all appearance-none cursor-pointer" onchange="handlePackageSelect()" style="background-image: url(&#39;data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27white%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e&#39;); background-repeat: no-repeat; background-position: right 1rem center; background-size: 1.5em 1.5em; padding-right: 3rem;">
                            <option value="" selected="" disabled="">
                              Chọn gói key...
                            </option>
                            <option value="5" data-price="10000">
                              Key 1 Ngày - 10000 VNĐ
                            </option>
                            <option value="6" data-price="60000">
                              Key 1 Tuần - 60000 VNĐ
                            </option>
                            <option value="7" data-price="139000">
                              Key 1 Tháng - 139000 VNĐ
                            </option>
                          </select>
                        </div>
                        <!-- Email and Submit Section (Hidden initially) -->
                        <div id="emailSection" class="hidden space-y-3">
                          <!-- Email Input (Only for non-authenticated users) -->
                          <div>
                            <label class="block text-sm font-medium text-gray-300 mb-2">
                              Địa chỉ mail để nhận key
                            </label>
                            <input type="email" id="quick_email" name="customer_email" required="" placeholder="email@gmail.com" oninput="handleEmailInput()" class="w-full px-4 py-3 bg-black/30 border border-white/10 rounded-xl text-white placeholder-gray-400 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 outline-none transition-all" />
                            <!-- Error message -->
                            <div id="emailError" class="hidden mt-2 text-sm text-red-400 flex items-start gap-2">
                              <i class="fas fa-exclamation-circle mt-0.5"></i>
                              <span id="emailErrorText"></span>
                            </div>
                            <!-- Warning message -->
                            <div id="emailWarning" class="hidden mt-2 text-sm text-yellow-400 flex items-start gap-2">
                              <i class="fas fa-exclamation-triangle mt-0.5"></i>
                              <span id="emailWarningText"></span>
                            </div>
                          </div>
                          <!-- Coupon Section -->
                          <div>
                            <!-- Coupon Toggle Link (shown by default) -->
                            <div id="couponToggleLink" class="text-center">
                              <button type="button" onclick="toggleCouponInput()" class="text-sm text-blue-400 hover:text-blue-300 transition-all inline-flex items-center gap-1.5">
                                <i class="fas fa-tag"></i>
                                <span>                                Có mã giảm giá?
</span>
                              </button>
                            </div>
                            <!-- Coupon Input Container (hidden by default) -->
                            <div id="couponInputContainer" class="hidden">
                              <label class="block text-sm font-medium text-gray-300 mb-2">
                                Mã giảm giá
                              </label>
                              <div class="relative">
                                <input type="text" id="coupon_code" name="coupon_code" placeholder="Nhập mã giảm giá..." oninput="this.value = this.value.toUpperCase(); handleCouponInput()" class="w-full px-4 py-3 pr-12 bg-black/30 border border-white/10 rounded-xl text-white placeholder-gray-400 focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 outline-none transition-all uppercase" />
                                <div id="couponSpinner" class="hidden absolute right-3 top-1/2 -translate-y-1/2">
                                  <i class="fas fa-spinner fa-spin text-purple-400"></i>
                                </div>
                              </div>
                              <!-- Success message -->
                              <div id="couponSuccess" class="hidden mt-2 text-sm text-green-400 flex items-start gap-2">
                                <i class="fas fa-check-circle mt-0.5"></i>
                                <span id="couponSuccessText"></span>
                              </div>
                              <!-- Error message -->
                              <div id="couponError" class="hidden mt-2 text-sm text-red-400 flex items-start gap-2">
                                <i class="fas fa-exclamation-circle mt-0.5"></i>
                                <span id="couponErrorText"></span>
                              </div>
                              <!-- Cancel link -->
                              <div class="text-center mt-2">
                                <button type="button" onclick="toggleCouponInput()" class="text-xs text-gray-500 hover:text-gray-400 transition-all">
                                  <i class="fas fa-times mr-1"></i>
                                  Bỏ qua
                                </button>
                              </div>
                            </div>
                          </div>
                          <!-- Price Display -->
                          <div class="p-4 bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-xl">
                            <!-- Original Price (shown when discount applied) -->
                            <div id="originalPriceRow" class="hidden items-center justify-between mb-1">
                              <span class="text-xs text-gray-400">                              Giá gốc:
</span>
                              <span class="text-sm text-gray-400 line-through" id="original_price_display"></span>
                            </div>
                            <!-- Discount Amount -->
                            <div id="discountRow" class="hidden items-center justify-between mb-1">
                              <span class="text-xs text-gray-400">                              Giảm giá:
</span>
                              <span class="text-sm text-red-400 font-semibold" id="discount_display"></span>
                            </div>
                            <!-- Final Price -->
                            <div class="flex items-center justify-between">
                              <span class="text-sm text-gray-300">                              Tổng tiền:
</span>
                              <span class="text-2xl font-bold text-green-400" id="price_display"></span>
                            </div>
                          </div>
                          <!-- Submit Buttons -->
                          <!-- Regular Submit Button for non-logged in users -->
                          <button type="submit" id="quickOrderBtn" class="w-full py-3 rounded-xl font-bold bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white transition-all duration-300 shadow-lg hover:shadow-green-500/50 transform hover:scale-[1.02] active:scale-[0.98]">
                            <i class="fas fa-shopping-cart mr-2"></i>
                            <span id="orderBtnText">                            Đặt mua ngay
</span>
                          </button>
                        </div>
                      </form>
                    </div>
                    <!-- Payment Section (Shows after order created) -->
                    <div id="paymentContainer" class="hidden">
                      <div class="space-y-4">
                        <!-- Order Info -->
                        <div id="orderInfoSection" class="p-4 bg-blue-500/10 border border-blue-500/30 rounded-xl">
                          <div class="flex items-center justify-between mb-2">
                            <span class="text-sm text-gray-300">                            Mã đơn hàng:
</span>
                            <span class="text-white font-bold" id="display_order_id"></span>
                          </div>
                          <div class="flex items-center justify-between mb-2">
                            <span class="text-sm text-gray-300">                            Gói key:
</span>
                            <span class="text-white font-semibold" id="display_package_name"></span>
                          </div>
                          <div class="flex items-center justify-between">
                            <span class="text-sm text-gray-300">                            Tổng tiền:
</span>
                            <span class="text-2xl font-bold text-blue-400" id="display_total_price"></span>
                          </div>
                        </div>
                        <!-- QR Code -->
                        <div id="qrSection" class="text-center">
                          <div class="inline-block p-4 bg-white rounded-xl">
                            <img id="payment_qr" src="" alt="QR Code" class="w-64 h-64 mx-auto" />
                          </div>
                          <p class="text-sm text-gray-400 mt-2">
                            Quét mã QR để thanh toán
                          </p>
                        </div>
                        <!-- Bank Info -->
                        <div id="bankInfoSection" class="p-4 bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/30 rounded-xl space-y-2">
                          <p class="text-xs text-gray-400 uppercase font-semibold mb-2">
                            Hoặc chuyển khoản thủ công
                          </p>
                          <!-- Ngân hàng -->
                          <div class="flex justify-between items-center gap-2">
                            <span class="text-xs text-gray-300">                            Ngân hàng:
</span>
                            <div class="flex items-center gap-2">
                              <span class="text-sm text-white font-semibold" id="bank_name"></span>
                              <button onclick="copyText(&#39;bank_name&#39;, &#39;Ngân hàng&#39;)" class="px-2 py-1 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 text-xs rounded transition-all">
                                <i class="fas fa-copy"></i>
                              </button>
                            </div>
                          </div>
                          <!-- Số tài khoản -->
                          <div class="flex justify-between items-center gap-2">
                            <span class="text-xs text-gray-300">                            Số TK:
</span>
                            <div class="flex items-center gap-2">
                              <span class="text-sm text-white font-mono font-semibold" id="bank_account"></span>
                              <button onclick="copyText(&#39;bank_account&#39;, &#39;Số tài khoản&#39;)" class="px-2 py-1 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 text-xs rounded transition-all">
                                <i class="fas fa-copy"></i>
                              </button>
                            </div>
                          </div>
                          <!-- Chủ tài khoản -->
                          <div class="flex justify-between items-center gap-2">
                            <span class="text-xs text-gray-300">                            Chủ TK:
</span>
                            <div class="flex items-center gap-2">
                              <span class="text-sm text-white font-semibold" id="bank_account_name"></span>
                              <button onclick="copyText(&#39;bank_account_name&#39;, &#39;Chủ tài khoản&#39;)" class="px-2 py-1 bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 text-xs rounded transition-all">
                                <i class="fas fa-copy"></i>
                              </button>
                            </div>
                          </div>
                          <!-- Nội dung CK -->
                          <div class="flex justify-between items-center pt-2 border-t border-white/10 gap-2">
                            <span class="text-xs text-gray-300">                            Nội dung:
</span>
                            <div class="flex items-center gap-2">
                              <span class="text-base text-yellow-400 font-bold font-mono" id="payment_content"></span>
                              <button onclick="copyText(&#39;payment_content&#39;, &#39;Nội dung CK&#39;)" class="px-2 py-1 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 text-xs rounded transition-all">
                                <i class="fas fa-copy"></i>
                              </button>
                            </div>
                          </div>
                        </div>
                        <!-- Status Check -->
                        <div id="statusContainer" class="p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-xl text-center">
                          <i class="fas fa-clock text-yellow-400 text-2xl mb-2"></i>
                          <p class="text-yellow-400 font-semibold mb-1">
                            Đang chờ thanh toán...
                          </p>
                          <p class="text-xs text-gray-400 mb-3">
                            Hệ thống sẽ tự động xác nhận sau khi nhận tiền
                          </p>
                          <button onclick="cancelOrder()" class="px-4 py-2 text-xs bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-lg transition-all border border-red-500/30">
                            <i class="fas fa-times mr-1"></i>
                            Hủy đơn hàng
                          </button>
                        </div>
                        <!-- Keys Display (Shows after payment confirmed) -->
                        <div id="keysContainer" class="hidden">
                          <!-- Keys will be dynamically inserted here by JavaScript -->
                          <div id="keys_list">
                          </div>
                        </div>
                        <!-- New Order Button (Hidden by default) -->
                        <button onclick="resetOrderForm()" class="hidden w-full py-2 rounded-xl font-semibold bg-white/10 hover:bg-white/20 text-white transition-all duration-300 border border-white/10">
                          <i class="fas fa-plus mr-2"></i>
                          Tạo đơn hàng mới
                        </button>
                      </div>
                    </div>
                    <p class="text-xs text-gray-500 text-center mt-3">
                      <i class="fas fa-info-circle mr-1"></i>
                      Key sẽ được gửi về email sau khi thanh toán
                    </p>
                  </div>
                  <!-- Changelog -->
                  <div class="py-6 border-b border-white/10">
                    <h2 class="text-base font-semibold text-white mb-4 flex items-center gap-2">
                      <i class="fas fa-history text-blue-400"></i>
                      Chi tiết cập nhật
                    </h2>
                    <div class="text-sm text-gray-300 leading-relaxed whitespace-pre-line">
                      Cài trực tiếp
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- Right Column: Screenshots (1/3 width on desktop) -->
            <div class="lg:col-span-1">
              <div class="rounded-3xl border border-white/10 bg-gradient-to-br from-[#010101] via-[#090909] to-[#010101] overflow-hidden shadow-2xl sticky top-6">
                <div class="p-6">
                  <h2 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
                    <i class="fas fa-images text-purple-400"></i>
                    Ảnh chụp màn hình
                  </h2>
                  <!-- Screenshots Carousel -->
                  <div class="relative">
                    <div id="screenshotCarousel" class="overflow-hidden rounded-2xl">
                      <div id="carouselInner" class="flex transition-transform duration-500 ease-out">
                        <div class="w-full flex-shrink-0 px-2">
                          <div class="aspect-video rounded-xl overflow-hidden border border-white/20 bg-black group relative video-container-0" onclick="event.target.tagName !== &#39;BUTTON&#39; &amp;&amp; event.target.closest(&#39;button&#39;) === null &amp;&amp; openVideoModal(&#39;/media/aovcheat/preview/20251201_005625_BF7A5FD1-88CE-4A4E-A472-24F32FC16584.MP4&#39;)" style="cursor: pointer;">
                            <video src="/media/aovcheat/preview/20251201_005625_BF7A5FD1-88CE-4A4E-A472-24F32FC16584.MP4" class="w-full h-full object-contain carousel-video" muted="" loop="" playsinline="" preload="metadata" data-index="0" id="video-0" onloadedmetadata="this.muted = true;">
                            </video>
                            <!-- Mute/Unmute Button -->
                            <button onclick="toggleVideoMute(0); event.stopPropagation();" id="muteBtn-0" class="absolute bottom-3 right-3 w-10 h-10 rounded-full bg-black/80 hover:bg-black backdrop-blur-sm border border-white/30 text-white flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 z-20 shadow-lg">
                              <i class="fas fa-volume-mute" id="muteIcon-0"></i>
                            </button>
                            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4 pointer-events-none">
                              <span class="text-white text-sm font-semibold flex items-center gap-2">                              <i class="fas fa-play-circle"></i>
                              Xem video
</span>
                            </div>
                            <div class="absolute top-3 right-3 bg-pink-500/90 backdrop-blur-sm px-2 py-1 rounded-lg text-white text-xs font-medium flex items-center gap-1">
                              <i class="fas fa-video"></i>
                              <span>                              Video
</span>
                            </div>
                          </div>
                        </div>
                        <div class="w-full flex-shrink-0 px-2">
                          <div class="aspect-video rounded-xl overflow-hidden border border-white/20 bg-black group relative video-container-1" onclick="event.target.tagName !== &#39;BUTTON&#39; &amp;&amp; event.target.closest(&#39;button&#39;) === null &amp;&amp; openImageModal(&#39;/media/aovcheat/preview/20251201_005625_IMG_2189.PNG&#39;)" style="cursor: pointer;">
                            <img src="/media/aovcheat/preview/20251201_005625_IMG_2189.PNG" alt="Screenshot 2" class="w-full h-full object-contain transform transition-transform duration-300 group-hover:scale-105" />
                            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4">
                              <span class="text-white text-sm font-semibold">                              <i class="fas fa-search-plus mr-1"></i>
                              Xem lớn
</span>
                            </div>
                          </div>
                        </div>
                        <div class="w-full flex-shrink-0 px-2">
                          <div class="aspect-video rounded-xl overflow-hidden border border-white/20 bg-black group relative video-container-2" onclick="event.target.tagName !== &#39;BUTTON&#39; &amp;&amp; event.target.closest(&#39;button&#39;) === null &amp;&amp; openImageModal(&#39;/media/aovcheat/preview/20251201_005625_IMG_2190.PNG&#39;)" style="cursor: pointer;">
                            <img src="/media/aovcheat/preview/20251201_005625_IMG_2190.PNG" alt="Screenshot 3" class="w-full h-full object-contain transform transition-transform duration-300 group-hover:scale-105" />
                            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4">
                              <span class="text-white text-sm font-semibold">                              <i class="fas fa-search-plus mr-1"></i>
                              Xem lớn
</span>
                            </div>
                          </div>
                        </div>
                        <div class="w-full flex-shrink-0 px-2">
                          <div class="aspect-video rounded-xl overflow-hidden border border-white/20 bg-black group relative video-container-3" onclick="event.target.tagName !== &#39;BUTTON&#39; &amp;&amp; event.target.closest(&#39;button&#39;) === null &amp;&amp; openImageModal(&#39;/media/aovcheat/preview/20251201_005625_IMG_2191.PNG&#39;)" style="cursor: pointer;">
                            <img src="/media/aovcheat/preview/20251201_005625_IMG_2191.PNG" alt="Screenshot 4" class="w-full h-full object-contain transform transition-transform duration-300 group-hover:scale-105" />
                            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4">
                              <span class="text-white text-sm font-semibold">                              <i class="fas fa-search-plus mr-1"></i>
                              Xem lớn
</span>
                            </div>
                          </div>
                        </div>
                        <div class="w-full flex-shrink-0 px-2">
                          <div class="aspect-video rounded-xl overflow-hidden border border-white/20 bg-black group relative video-container-4" onclick="event.target.tagName !== &#39;BUTTON&#39; &amp;&amp; event.target.closest(&#39;button&#39;) === null &amp;&amp; openVideoModal(&#39;/media/aovcheat/preview/20251201_005625_ScreenRecording_08-27-2025_15-17-42_1.mov&#39;)" style="cursor: pointer;">
                            <video src="/media/aovcheat/preview/20251201_005625_ScreenRecording_08-27-2025_15-17-42_1.mov" class="w-full h-full object-contain carousel-video" muted="" loop="" playsinline="" preload="metadata" data-index="4" id="video-4" onloadedmetadata="this.muted = true;">
                            </video>
                            <!-- Mute/Unmute Button -->
                            <button onclick="toggleVideoMute(4); event.stopPropagation();" id="muteBtn-4" class="absolute bottom-3 right-3 w-10 h-10 rounded-full bg-black/80 hover:bg-black backdrop-blur-sm border border-white/30 text-white flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 z-20 shadow-lg">
                              <i class="fas fa-volume-mute" id="muteIcon-4"></i>
                            </button>
                            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4 pointer-events-none">
                              <span class="text-white text-sm font-semibold flex items-center gap-2">                              <i class="fas fa-play-circle"></i>
                              Xem video
</span>
                            </div>
                            <div class="absolute top-3 right-3 bg-pink-500/90 backdrop-blur-sm px-2 py-1 rounded-lg text-white text-xs font-medium flex items-center gap-1">
                              <i class="fas fa-video"></i>
                              <span>                              Video
</span>
                            </div>
                          </div>
                        </div>
                        <div class="w-full flex-shrink-0 px-2">
                          <div class="aspect-video rounded-xl overflow-hidden border border-white/20 bg-black group relative video-container-5" onclick="event.target.tagName !== &#39;BUTTON&#39; &amp;&amp; event.target.closest(&#39;button&#39;) === null &amp;&amp; openVideoModal(&#39;/media/aovcheat/preview/20251201_005625_ScreenRecording_08-27-2025_15-23-08_1.mov&#39;)" style="cursor: pointer;">
                            <video src="/media/aovcheat/preview/20251201_005625_ScreenRecording_08-27-2025_15-23-08_1.mov" class="w-full h-full object-contain carousel-video" muted="" loop="" playsinline="" preload="metadata" data-index="5" id="video-5" onloadedmetadata="this.muted = true;">
                            </video>
                            <!-- Mute/Unmute Button -->
                            <button onclick="toggleVideoMute(5); event.stopPropagation();" id="muteBtn-5" class="absolute bottom-3 right-3 w-10 h-10 rounded-full bg-black/80 hover:bg-black backdrop-blur-sm border border-white/30 text-white flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 z-20 shadow-lg">
                              <i class="fas fa-volume-mute" id="muteIcon-5"></i>
                            </button>
                            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4 pointer-events-none">
                              <span class="text-white text-sm font-semibold flex items-center gap-2">                              <i class="fas fa-play-circle"></i>
                              Xem video
</span>
                            </div>
                            <div class="absolute top-3 right-3 bg-pink-500/90 backdrop-blur-sm px-2 py-1 rounded-lg text-white text-xs font-medium flex items-center gap-1">
                              <i class="fas fa-video"></i>
                              <span>                              Video
</span>
                            </div>
                          </div>
                        </div>
                        <div class="w-full flex-shrink-0 px-2">
                          <div class="aspect-video rounded-xl overflow-hidden border border-white/20 bg-black group relative video-container-6" onclick="event.target.tagName !== &#39;BUTTON&#39; &amp;&amp; event.target.closest(&#39;button&#39;) === null &amp;&amp; openVideoModal(&#39;/media/aovcheat/preview/20251201_005625_ScreenRecording_09-14-2025_19-49-21_1.MOV&#39;)" style="cursor: pointer;">
                            <video src="/media/aovcheat/preview/20251201_005625_ScreenRecording_09-14-2025_19-49-21_1.MOV" class="w-full h-full object-contain carousel-video" muted="" loop="" playsinline="" preload="metadata" data-index="6" id="video-6" onloadedmetadata="this.muted = true;">
                            </video>
                            <!-- Mute/Unmute Button -->
                            <button onclick="toggleVideoMute(6); event.stopPropagation();" id="muteBtn-6" class="absolute bottom-3 right-3 w-10 h-10 rounded-full bg-black/80 hover:bg-black backdrop-blur-sm border border-white/30 text-white flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 z-20 shadow-lg">
                              <i class="fas fa-volume-mute" id="muteIcon-6"></i>
                            </button>
                            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4 pointer-events-none">
                              <span class="text-white text-sm font-semibold flex items-center gap-2">                              <i class="fas fa-play-circle"></i>
                              Xem video
</span>
                            </div>
                            <div class="absolute top-3 right-3 bg-pink-500/90 backdrop-blur-sm px-2 py-1 rounded-lg text-white text-xs font-medium flex items-center gap-1">
                              <i class="fas fa-video"></i>
                              <span>                              Video
</span>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- Navigation Arrows -->
                    <button onclick="prevSlide()" class="absolute left-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-black/60 hover:bg-black/80 border border-white/20 text-white flex items-center justify-center transition-all duration-300 hover:scale-110 z-10">
                      <i class="fas fa-chevron-left"></i>
                    </button>
                    <button onclick="nextSlide()" class="absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-black/60 hover:bg-black/80 border border-white/20 text-white flex items-center justify-center transition-all duration-300 hover:scale-110 z-10">
                      <i class="fas fa-chevron-right"></i>
                    </button>
                  </div>
                  <!-- Dots Indicator -->
                  <div class="flex justify-center gap-2 mt-4">
                    <button onclick="goToSlide(0)" class="dot w-2 h-2 rounded-full transition-all duration-300 bg-purple-500 w-6">
                    </button>
                    <button onclick="goToSlide(1)" class="dot w-2 h-2 rounded-full transition-all duration-300 bg-white/30 hover:bg-white/50">
                    </button>
                    <button onclick="goToSlide(2)" class="dot w-2 h-2 rounded-full transition-all duration-300 bg-white/30 hover:bg-white/50">
                    </button>
                    <button onclick="goToSlide(3)" class="dot w-2 h-2 rounded-full transition-all duration-300 bg-white/30 hover:bg-white/50">
                    </button>
                    <button onclick="goToSlide(4)" class="dot w-2 h-2 rounded-full transition-all duration-300 bg-white/30 hover:bg-white/50">
                    </button>
                    <button onclick="goToSlide(5)" class="dot w-2 h-2 rounded-full transition-all duration-300 bg-white/30 hover:bg-white/50">
                    </button>
                    <button onclick="goToSlide(6)" class="dot w-2 h-2 rounded-full transition-all duration-300 bg-white/30 hover:bg-white/50">
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Image Modal -->
        <div id="imageModal" class="fixed inset-0 z-50 hidden items-center justify-center p-4 bg-black/90 backdrop-blur-sm" onclick="closeImageModal()">
          <div class="relative max-w-4xl w-full">
            <button onclick="closeImageModal()" class="absolute top-4 right-4 w-10 h-10 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 border border-white/20 text-white transition-all duration-300 z-10">
              <i class="fas fa-times text-xl"></i>
            </button>
            <img id="modalImage" src="" alt="Preview" class="w-full h-auto rounded-2xl shadow-2xl" onclick="event.stopPropagation()" />
          </div>
        </div>
        <!-- Video Modal -->
        <div id="videoModal" class="fixed inset-0 z-50 hidden items-center justify-center p-4 bg-black/95 backdrop-blur-sm" onclick="closeVideoModal()">
          <div class="relative max-w-4xl w-full">
            <button onclick="closeVideoModal()" class="absolute top-4 right-4 w-10 h-10 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 border border-white/20 text-white transition-all duration-300 z-10">
              <i class="fas fa-times text-xl"></i>
            </button>
            <video id="modalVideo" src="" controls="" autoplay="" class="w-full h-auto rounded-2xl shadow-2xl" onclick="event.stopPropagation()">
            </video>
          </div>
        </div>
        <style>
          @keyframes shimmer {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(200%); }
    }
    
    .shimmer {
        animation: shimmer 3s infinite;
    }
    
    /* Slow pulse animation for download button */
    @keyframes pulse-slow {
        0%, 100% {
            opacity: 1;
            transform: scale(1);
        }
        50% {
            opacity: 0.85;
            transform: scale(1.05);
        }
    }
    
    .animate-pulse-slow {
        animation: pulse-slow 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
    
    /* Reward Button Styles */
    .reward-btn {
        width: 120px;
        height: 40px;
        background-color: #101218;
        display: flex;
        align-items: center;
        justify-content: center;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s;
    }
    .IconContainer {
        width: 40px;
        height: 40px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
    }
    .IconContainer svg {
        width: 40%;
        z-index: 3;
    }
    .box-top {
        transition: all 0.3s;
    }
    .text {
        width: 70px;
        height: 100%;
        font-size: 13px;
        color: #6a8ef6;
        display: flex;
        align-items: center;
        justify-content: flex-start;
        font-weight: 600;
    }
    .reward-btn:hover .IconContainer .box-top {
        transform: translateY(-5px);
    }
    .reward-btn:hover {
        background-color: #202531;
    }
    .reward-btn:hover .coin {
        transform: translateY(-5px);
        transition-delay: 0.2s;
    }
    .coin {
        width: 25%;
        height: 25%;
        background-color: #e4d61a;
        position: absolute;
        border-radius: 50%;
        transition: all 0.3s;
        z-index: 1;
        border: 2px solid #ffe956;
        margin-top: 4px;
    }
    
    /* Custom scrollbar for keys list */
    .custom-scrollbar::-webkit-scrollbar {
        width: 8px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.2);
        border-radius: 4px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-thumb {
        background: rgba(34, 197, 94, 0.3);
        border-radius: 4px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: rgba(34, 197, 94, 0.5);
    }
        </style>
        <script>
          let currentSlide = 0;
const totalSlides = 7;

// Toast notification
function showToast(message, type = &#39;info&#39;) {
    const colors = {
        success: &#39;from-green-500 to-green-600&#39;,
        error: &#39;from-red-500 to-red-600&#39;,
        info: &#39;from-blue-500 to-blue-600&#39;
    };
    
    const icons = {
        success: &#39;fa-check-circle&#39;,
        error: &#39;fa-times-circle&#39;,
        info: &#39;fa-info-circle&#39;
    };
    
    // Create toast container if not exists
    let container = document.getElementById(&#39;toastContainer&#39;);
    if (!container) {
        container = document.createElement(&#39;div&#39;);
        container.id = &#39;toastContainer&#39;;
        container.className = &#39;fixed top-4 right-4 z-50 flex flex-col gap-3&#39;;
        document.body.appendChild(container);
    }
    
    const toast = document.createElement(&#39;div&#39;);
    toast.className = `flex items-center gap-3 px-6 py-4 rounded-xl bg-gradient-to-r ${colors[type]} text-white shadow-2xl transform transition-all duration-300`;
    toast.innerHTML = `
        &lt;i class=&#34;fas ${icons[type]} text-xl&#34;&gt;&lt;/i&gt;
        &lt;span class=&#34;font-medium&#34;&gt;${message}&lt;/span&gt;
    `;
    
    container.appendChild(toast);
    
    setTimeout(() =&gt; {
        toast.style.opacity = &#39;0&#39;;
        toast.style.transform = &#39;translateX(100%)&#39;;
        setTimeout(() =&gt; toast.remove(), 300);
    }, 4000);
}

// Custom confirm dialog
function customConfirm(message, onConfirm, onCancel) {
    // Create overlay
    const overlay = document.createElement(&#39;div&#39;);
    overlay.className = &#39;fixed inset-0 bg-black/70 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-fadeIn&#39;;
    overlay.style.animation = &#39;fadeIn 0.2s ease-out&#39;;
    
    // Create dialog
    const dialog = document.createElement(&#39;div&#39;);
    dialog.className = &#39;bg-gradient-to-br from-gray-900 to-black border border-white/20 rounded-2xl shadow-2xl max-w-md w-full transform transition-all&#39;;
    dialog.style.animation = &#39;slideUp 0.3s ease-out&#39;;
    
    dialog.innerHTML = `
        &lt;div class=&#34;p-6&#34;&gt;
            &lt;!-- Icon --&gt;
            &lt;div class=&#34;flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-yellow-500/20&#34;&gt;
                &lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke-width=&#34;2&#34; class=&#34;w-8 h-8 stroke-yellow-400&#34;&gt;
                    &lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z&#34; /&gt;
                &lt;/svg&gt;
            &lt;/div&gt;
            
            &lt;!-- Message --&gt;
            &lt;p class=&#34;text-center text-white text-base font-medium mb-6&#34;&gt;${message}&lt;/p&gt;
            
            &lt;!-- Buttons --&gt;
            &lt;div class=&#34;flex gap-3&#34;&gt;
                &lt;button id=&#34;confirmCancel&#34; class=&#34;flex-1 px-4 py-3 bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 text-gray-300 hover:text-white rounded-xl font-medium transition-all&#34;&gt;
                    Cancel
                &lt;/button&gt;
                &lt;button id=&#34;confirmOk&#34; class=&#34;flex-1 px-4 py-3 bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-700 hover:to-orange-700 text-white rounded-xl font-medium transition-all shadow-lg&#34;&gt;
                    OK
                &lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    `;
    
    overlay.appendChild(dialog);
    document.body.appendChild(overlay);
    
    // Add keyframe animations
    if (!document.getElementById(&#39;customDialogStyles&#39;)) {
        const style = document.createElement(&#39;style&#39;);
        style.id = &#39;customDialogStyles&#39;;
        style.textContent = `
            @keyframes fadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }
            @keyframes slideUp {
                from { transform: translateY(20px); opacity: 0; }
                to { transform: translateY(0); opacity: 1; }
            }
        `;
        document.head.appendChild(style);
    }
    
    // Handle close
    const closeDialog = (confirmed) =&gt; {
        overlay.style.opacity = &#39;0&#39;;
        dialog.style.transform = &#39;translateY(20px)&#39;;
        setTimeout(() =&gt; {
            overlay.remove();
            if (confirmed &amp;&amp; onConfirm) onConfirm();
            if (!confirmed &amp;&amp; onCancel) onCancel();
        }, 200);
    };
    
    // Event listeners
    document.getElementById(&#39;confirmOk&#39;).addEventListener(&#39;click&#39;, () =&gt; closeDialog(true));
    document.getElementById(&#39;confirmCancel&#39;).addEventListener(&#39;click&#39;, () =&gt; closeDialog(false));
    overlay.addEventListener(&#39;click&#39;, (e) =&gt; {
        if (e.target === overlay) closeDialog(false);
    });
    
    // ESC key to cancel
    const escHandler = (e) =&gt; {
        if (e.key === &#39;Escape&#39;) {
            closeDialog(false);
            document.removeEventListener(&#39;keydown&#39;, escHandler);
        }
    };
    document.addEventListener(&#39;keydown&#39;, escHandler);
}

// Insufficient balance dialog
function showInsufficientBalanceDialog(requiredAmount, currentBalance) {
    const shortfall = requiredAmount - currentBalance;
    
    // Create overlay
    const overlay = document.createElement(&#39;div&#39;);
    overlay.className = &#39;fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4 animate-fadeIn&#39;;
    overlay.style.animation = &#39;fadeIn 0.2s ease-out&#39;;
    
    // Create dialog
    const dialog = document.createElement(&#39;div&#39;);
    dialog.className = &#39;bg-gradient-to-br from-gray-900 via-gray-800 to-black border border-red-500/30 rounded-2xl shadow-2xl max-w-md w-full transform transition-all&#39;;
    dialog.style.animation = &#39;slideUp 0.3s ease-out&#39;;
    
    dialog.innerHTML = `
        &lt;div class=&#34;p-6&#34;&gt;
            &lt;!-- Icon --&gt;
            &lt;div class=&#34;flex items-center justify-center w-20 h-20 mx-auto mb-4 rounded-full bg-red-500/20 border-2 border-red-500/30&#34;&gt;
                &lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke-width=&#34;2&#34; class=&#34;w-10 h-10 stroke-red-400&#34;&gt;
                    &lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z&#34; /&gt;
                &lt;/svg&gt;
            &lt;/div&gt;
            
            &lt;!-- Title --&gt;
            &lt;h3 class=&#34;text-xl font-bold text-white text-center mb-2&#34;&gt;Số dư không đủ&lt;/h3&gt;
            
            &lt;!-- Balance Info --&gt;
            &lt;div class=&#34;bg-black/40 rounded-xl p-4 mb-6 space-y-2&#34;&gt;
                &lt;div class=&#34;flex justify-between items-center text-sm&#34;&gt;
                    &lt;span class=&#34;text-gray-400&#34;&gt;Số dư hiện tại:&lt;/span&gt;
                    &lt;span class=&#34;text-white font-semibold&#34;&gt;${formatPrice(currentBalance)} VNĐ&lt;/span&gt;
                &lt;/div&gt;
                &lt;div class=&#34;flex justify-between items-center text-sm&#34;&gt;
                    &lt;span class=&#34;text-gray-400&#34;&gt;Số tiền cần:&lt;/span&gt;
                    &lt;span class=&#34;text-white font-semibold&#34;&gt;${formatPrice(requiredAmount)} VNĐ&lt;/span&gt;
                &lt;/div&gt;
                &lt;div class=&#34;h-px bg-white/10 my-2&#34;&gt;&lt;/div&gt;
                &lt;div class=&#34;flex justify-between items-center text-sm&#34;&gt;
                    &lt;span class=&#34;text-gray-400&#34;&gt;Thiếu:&lt;/span&gt;
                    &lt;span class=&#34;text-red-400 font-bold&#34;&gt;${formatPrice(shortfall)} VNĐ&lt;/span&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            
            &lt;!-- Message --&gt;
            &lt;p class=&#34;text-center text-gray-300 text-sm mb-6&#34;&gt;
                Bạn có thể nạp thêm tiền vào tài khoản hoặc thanh toán trực tiếp bằng chuyển khoản ngân hàng
            &lt;/p&gt;
            
            &lt;!-- Action Buttons --&gt;
            &lt;div class=&#34;space-y-3&#34;&gt;
                &lt;!-- Deposit Button --&gt;
                &lt;a href=&#34;/user/wallet/deposit/&#34; class=&#34;block w-full py-3.5 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white rounded-xl font-semibold transition-all shadow-lg hover:shadow-green-500/50 transform hover:scale-[1.02] active:scale-[0.98] text-center no-underline&#34;&gt;
                    &lt;i class=&#34;fas fa-wallet mr-2&#34;&gt;&lt;/i&gt;
                    Nạp tiền vào tài khoản
                &lt;/a&gt;
                
                &lt;!-- Bank Transfer Button --&gt;
                &lt;button id=&#34;payDirectlyBtn&#34; class=&#34;w-full py-3.5 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white rounded-xl font-semibold transition-all shadow-lg hover:shadow-blue-500/50 transform hover:scale-[1.02] active:scale-[0.98]&#34;&gt;
                    &lt;i class=&#34;fas fa-credit-card mr-2&#34;&gt;&lt;/i&gt;
                    Thanh toán trực tiếp
                &lt;/button&gt;
                
                &lt;!-- Cancel Button --&gt;
                &lt;button id=&#34;cancelBalanceDialog&#34; class=&#34;w-full py-3 bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 text-gray-300 hover:text-white rounded-xl font-medium transition-all&#34;&gt;
                    &lt;i class=&#34;fas fa-times mr-2&#34;&gt;&lt;/i&gt;
                    Đóng
                &lt;/button&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    `;
    
    overlay.appendChild(dialog);
    document.body.appendChild(overlay);
    
    // Handle close
    const closeDialog = () =&gt; {
        overlay.style.opacity = &#39;0&#39;;
        dialog.style.transform = &#39;translateY(20px)&#39;;
        setTimeout(() =&gt; {
            overlay.remove();
        }, 200);
    };
    
    // Event listeners
    document.getElementById(&#39;cancelBalanceDialog&#39;).addEventListener(&#39;click&#39;, closeDialog);
    document.getElementById(&#39;payDirectlyBtn&#39;).addEventListener(&#39;click&#39;, () =&gt; {
        closeDialog();
        // Trigger bank transfer flow
        handleQuickOrder(new Event(&#39;submit&#39;));
    });
    
    overlay.addEventListener(&#39;click&#39;, (e) =&gt; {
        if (e.target === overlay) closeDialog();
    });
    
    // ESC key to close
    const escHandler = (e) =&gt; {
        if (e.key === &#39;Escape&#39;) {
            closeDialog();
            document.removeEventListener(&#39;keydown&#39;, escHandler);
        }
    };
    document.addEventListener(&#39;keydown&#39;, escHandler);
}

// Format number with dots (10.000 format)
function formatPrice(price) {
    // Remove any existing formatting (dots, commas)
    if (typeof price === &#39;string&#39;) {
        price = price.replace(/[,.]/g, &#39;&#39;);
    }
    // Convert to number and format
    const num = parseFloat(price);
    if (isNaN(num)) {
        return &#39;0&#39;;
    }
    return Math.floor(num).toString().replace(/\B(?=(\d{3})+(?!\d))/g, &#34;.&#34;);
}

// Validate email format
function validateEmail(email) {
    // Trim whitespace
    email = email.trim();
    
    // Check if empty
    if (!email) {
        return { valid: false, message: &#39;Vui lòng nhập email&#39; };
    }
    
    // Basic email regex pattern
    const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
    
    if (!emailRegex.test(email)) {
        return { valid: false, message: &#39;Email không đúng định dạng&#39; };
    }
    
    // Check for common typos in domain
    const domain = email.split(&#39;@&#39;)[1];
    if (!domain) {
        return { valid: false, message: &#39;Email không có tên miền&#39; };
    }
    
    // Common domain typos to check
    const commonDomains = [&#39;gmail.com&#39;, &#39;yahoo.com&#39;, &#39;hotmail.com&#39;, &#39;outlook.com&#39;, &#39;icloud.com&#39;];
    const typoMap = {
        &#39;gmial.com&#39;: &#39;gmail.com&#39;,
        &#39;gmai.com&#39;: &#39;gmail.com&#39;,
        &#39;gmal.com&#39;: &#39;gmail.com&#39;,
        &#39;gmil.com&#39;: &#39;gmail.com&#39;,
        &#39;yahooo.com&#39;: &#39;yahoo.com&#39;,
        &#39;yaho.com&#39;: &#39;yahoo.com&#39;,
        &#39;hotmial.com&#39;: &#39;hotmail.com&#39;,
        &#39;hotmai.com&#39;: &#39;hotmail.com&#39;,
        &#39;outlok.com&#39;: &#39;outlook.com&#39;,
        &#39;outloo.com&#39;: &#39;outlook.com&#39;
    };
    
    // Check if it&#39;s a typo
    if (typoMap[domain]) {
        return { 
            valid: false, 
            message: `Bạn có muốn nhập ${typoMap[domain]} không?`,
            suggestion: typoMap[domain]
        };
    }
    
    // Warn if not a common domain
    if (!commonDomains.includes(domain) &amp;&amp; !domain.includes(&#39;.edu&#39;) &amp;&amp; !domain.includes(&#39;.vn&#39;)) {
        return { 
            valid: true, 
            warning: true,
            message: `Email có vẻ không phổ biến: ${domain}. Vui lòng kiểm tra lại.`
        };
    }
    
    return { valid: true, message: &#39;Email hợp lệ&#39; };
}

// Debounce timer
let emailValidationTimeout = null;

// Handle email input with debounce
function handleEmailInput() {
    const emailInput = document.getElementById(&#39;quick_email&#39;);
    const emailError = document.getElementById(&#39;emailError&#39;);
    const emailErrorText = document.getElementById(&#39;emailErrorText&#39;);
    const emailWarning = document.getElementById(&#39;emailWarning&#39;);
    const emailWarningText = document.getElementById(&#39;emailWarningText&#39;);
    
    // Clear previous timeout
    if (emailValidationTimeout) {
        clearTimeout(emailValidationTimeout);
    }
    
    // Hide messages immediately when typing
    emailError.classList.add(&#39;hidden&#39;);
    emailWarning.classList.add(&#39;hidden&#39;);
    emailInput.classList.remove(&#39;border-red-500&#39;, &#39;border-yellow-500&#39;);
    emailInput.classList.add(&#39;border-white/10&#39;);
    
    // Set new timeout (500ms debounce)
    emailValidationTimeout = setTimeout(() =&gt; {
        const email = emailInput.value.trim();
        
        // Skip validation if empty
        if (!email) {
            return;
        }
        
        // Validate email
        const validation = validateEmail(email);
        
        if (!validation.valid) {
            // Show error
            emailErrorText.textContent = validation.message;
            emailError.classList.remove(&#39;hidden&#39;);
            emailInput.classList.remove(&#39;border-white/10&#39;);
            emailInput.classList.add(&#39;border-red-500&#39;);
        } else if (validation.warning) {
            // Show warning
            emailWarningText.textContent = validation.message;
            emailWarning.classList.remove(&#39;hidden&#39;);
            emailInput.classList.remove(&#39;border-white/10&#39;);
            emailInput.classList.add(&#39;border-yellow-500&#39;);
        }
    }, 500);
}

// Coupon validation
let appliedCoupon = null;
let couponValidationTimeout = null;

// Toggle coupon input visibility
function toggleCouponInput() {
    const toggleLink = document.getElementById(&#39;couponToggleLink&#39;);
    const inputContainer = document.getElementById(&#39;couponInputContainer&#39;);
    const couponInput = document.getElementById(&#39;coupon_code&#39;);
    
    if (inputContainer.classList.contains(&#39;hidden&#39;)) {
        // Show input
        toggleLink.classList.add(&#39;hidden&#39;);
        inputContainer.classList.remove(&#39;hidden&#39;);
        couponInput.focus();
    } else {
        // Hide input and clear
        inputContainer.classList.add(&#39;hidden&#39;);
        toggleLink.classList.remove(&#39;hidden&#39;);
        couponInput.value = &#39;&#39;;
        appliedCoupon = null;
        document.getElementById(&#39;couponSuccess&#39;).classList.add(&#39;hidden&#39;);
        document.getElementById(&#39;couponError&#39;).classList.add(&#39;hidden&#39;);
        couponInput.classList.remove(&#39;border-green-500&#39;, &#39;border-red-500&#39;);
        couponInput.classList.add(&#39;border-white/10&#39;);
        updatePriceWithDiscount();
    }
}

// Handle coupon input with auto-validation after 1000ms
function handleCouponInput() {
    const couponInput = document.getElementById(&#39;coupon_code&#39;);
    const couponSuccess = document.getElementById(&#39;couponSuccess&#39;);
    const couponError = document.getElementById(&#39;couponError&#39;);
    const couponSpinner = document.getElementById(&#39;couponSpinner&#39;);
    
    // Clear previous timeout
    if (couponValidationTimeout) {
        clearTimeout(couponValidationTimeout);
    }
    
    // Hide messages immediately when typing
    couponSuccess.classList.add(&#39;hidden&#39;);
    couponError.classList.add(&#39;hidden&#39;);
    couponSpinner.classList.add(&#39;hidden&#39;);
    couponInput.classList.remove(&#39;border-green-500&#39;, &#39;border-red-500&#39;);
    couponInput.classList.add(&#39;border-white/10&#39;);
    
    // Clear applied coupon if user changes input
    if (appliedCoupon &amp;&amp; appliedCoupon.coupon &amp;&amp; appliedCoupon.coupon.code !== couponInput.value.trim().toUpperCase()) {
        appliedCoupon = null;
        updatePriceWithDiscount();
    }
    
    const code = couponInput.value.trim();
    
    // Only auto-validate if there&#39;s input
    if (code.length &gt; 0) {
        // Show spinner while waiting
        couponSpinner.classList.remove(&#39;hidden&#39;);
        
        // Set timeout for auto-validation (1000ms)
        couponValidationTimeout = setTimeout(() =&gt; {
            validateCoupon();
        }, 1000);
    }
}

// Validate coupon code
async function validateCoupon() {
    const couponInput = document.getElementById(&#39;coupon_code&#39;);
    const couponSuccess = document.getElementById(&#39;couponSuccess&#39;);
    const couponSuccessText = document.getElementById(&#39;couponSuccessText&#39;);
    const couponError = document.getElementById(&#39;couponError&#39;);
    const couponErrorText = document.getElementById(&#39;couponErrorText&#39;);
    const couponSpinner = document.getElementById(&#39;couponSpinner&#39;);
    
    const code = couponInput.value.trim().toUpperCase();
    
    if (!code) {
        couponSpinner.classList.add(&#39;hidden&#39;);
        return;
    }
    
    // Get current order value
    const select = document.getElementById(&#39;selected_pricing_id&#39;);
    const selectedOption = select.options[select.selectedIndex];
    const orderValue = parseFloat(selectedOption.getAttribute(&#39;data-price&#39;));
    
    if (!orderValue) {
        couponSpinner.classList.add(&#39;hidden&#39;);
        couponErrorText.textContent = &#39;Vui lòng chọn gói key trước&#39;;
        couponError.classList.remove(&#39;hidden&#39;);
        return;
    }
    
    // Show spinner
    couponSpinner.classList.remove(&#39;hidden&#39;);
    
    try {
        const response = await fetch(&#39;/api/validate-coupon/&#39;, {
            method: &#39;POST&#39;,
            headers: {
                &#39;Content-Type&#39;: &#39;application/json&#39;,
                &#39;X-CSRFToken&#39;: getCookie(&#39;csrftoken&#39;)
            },
            body: JSON.stringify({
                code: code,
                order_value: orderValue
            })
        });
        
        const result = await response.json();
        
        if (result.success) {
            // Save applied coupon
            appliedCoupon = result;
            
            // Show success message
            couponSuccessText.textContent = result.message;
            couponSuccess.classList.remove(&#39;hidden&#39;);
            couponError.classList.add(&#39;hidden&#39;);
            couponInput.classList.remove(&#39;border-white/10&#39;, &#39;border-red-500&#39;);
            couponInput.classList.add(&#39;border-green-500&#39;);
            
            // Update price display
            updatePriceWithDiscount();
            
            // Show toast
            showToast(result.message, &#39;success&#39;);
        } else {
            // Show error
            appliedCoupon = null;
            couponErrorText.textContent = result.error || &#39;Mã coupon không hợp lệ&#39;;
            couponError.classList.remove(&#39;hidden&#39;);
            couponSuccess.classList.add(&#39;hidden&#39;);
            couponInput.classList.remove(&#39;border-white/10&#39;, &#39;border-green-500&#39;);
            couponInput.classList.add(&#39;border-red-500&#39;);
            
            // Clear discount
            updatePriceWithDiscount();
        }
    } catch (error) {
        appliedCoupon = null;
        couponErrorText.textContent = &#39;Lỗi kết nối&#39;;
        couponError.classList.remove(&#39;hidden&#39;);
        updatePriceWithDiscount();
    } finally {
        couponSpinner.classList.add(&#39;hidden&#39;);
    }
}

// Update price display with discount
function updatePriceWithDiscount() {
    const select = document.getElementById(&#39;selected_pricing_id&#39;);
    const selectedOption = select.options[select.selectedIndex];
    const originalPrice = parseFloat(selectedOption.getAttribute(&#39;data-price&#39;));
    
    const priceDisplay = document.getElementById(&#39;price_display&#39;);
    const originalPriceRow = document.getElementById(&#39;originalPriceRow&#39;);
    const originalPriceDisplay = document.getElementById(&#39;original_price_display&#39;);
    const discountRow = document.getElementById(&#39;discountRow&#39;);
    const discountDisplay = document.getElementById(&#39;discount_display&#39;);
    
    if (appliedCoupon &amp;&amp; appliedCoupon.discount &gt; 0) {
        // Show discount info
        originalPriceRow.classList.remove(&#39;hidden&#39;);
        originalPriceRow.classList.add(&#39;flex&#39;);
        discountRow.classList.remove(&#39;hidden&#39;);
        discountRow.classList.add(&#39;flex&#39;);
        
        // Update values
        originalPriceDisplay.textContent = formatPrice(originalPrice) + &#39; VNĐ&#39;;
        discountDisplay.textContent = &#39;-&#39; + formatPrice(appliedCoupon.discount) + &#39; VNĐ&#39;;
        priceDisplay.textContent = formatPrice(appliedCoupon.final_price) + &#39; VNĐ&#39;;
    } else {
        // Hide discount info
        originalPriceRow.classList.add(&#39;hidden&#39;);
        originalPriceRow.classList.remove(&#39;flex&#39;);
        discountRow.classList.add(&#39;hidden&#39;);
        discountRow.classList.remove(&#39;flex&#39;);
        
        // Show original price
        if (originalPrice) {
            priceDisplay.textContent = formatPrice(originalPrice) + &#39; VNĐ&#39;;
        }
    }
}

// Handle package selection
function handlePackageSelect() {
    const select = document.getElementById(&#39;selected_pricing_id&#39;);
    const selectedOption = select.options[select.selectedIndex];
    const price = selectedOption.getAttribute(&#39;data-price&#39;);
    const emailSection = document.getElementById(&#39;emailSection&#39;);
    
    if (price &amp;&amp; select.value) {
        // Show email section with animation
        emailSection.classList.remove(&#39;hidden&#39;);
        
        // Reset coupon when changing package
        appliedCoupon = null;
        const couponInput = document.getElementById(&#39;coupon_code&#39;);
        const couponInputContainer = document.getElementById(&#39;couponInputContainer&#39;);
        const couponToggleLink = document.getElementById(&#39;couponToggleLink&#39;);
        
        if (couponInput) {
            // Reset input value and messages
            couponInput.value = &#39;&#39;;
            document.getElementById(&#39;couponSuccess&#39;).classList.add(&#39;hidden&#39;);
            document.getElementById(&#39;couponError&#39;).classList.add(&#39;hidden&#39;);
            document.getElementById(&#39;couponSpinner&#39;).classList.add(&#39;hidden&#39;);
            couponInput.classList.remove(&#39;border-green-500&#39;, &#39;border-red-500&#39;);
            couponInput.classList.add(&#39;border-white/10&#39;);
            
            // Hide input container, show toggle link
            if (couponInputContainer) {
                couponInputContainer.classList.add(&#39;hidden&#39;);
            }
            if (couponToggleLink) {
                couponToggleLink.classList.remove(&#39;hidden&#39;);
            }
        }
        
        // Update price display
        updatePriceWithDiscount();
    } else {
        // Hide email section if no selection
        emailSection.classList.add(&#39;hidden&#39;);
    }
}

// Update selected package (keep for compatibility)
function updatePriceDisplay() {
    handlePackageSelect();
}

// Pay with balance
async function payWithBalance() {
    const btn = document.getElementById(&#39;balancePayBtn&#39;);
    const btnText = document.getElementById(&#39;balancePayBtnText&#39;);
    const emailInput = document.getElementById(&#39;quick_email&#39;);
    const email = emailInput.value.trim();
    const pricingId = document.getElementById(&#39;selected_pricing_id&#39;).value;
    
    // Validate pricing selection
    if (!pricingId) {
        showToast(&#39;Vui lòng chọn gói key!&#39;, &#39;error&#39;);
        return;
    }
    
    // Get final price (with discount if applicable)
    const select = document.getElementById(&#39;selected_pricing_id&#39;);
    const selectedOption = select.options[select.selectedIndex];
    const originalPrice = parseFloat(selectedOption.getAttribute(&#39;data-price&#39;));
    const finalPrice = appliedCoupon &amp;&amp; appliedCoupon.final_price ? appliedCoupon.final_price : originalPrice;
    
    // Get user balance
    const balanceText = document.getElementById(&#39;user_balance&#39;).textContent;
    const userBalance = parseFloat(balanceText.replace(/[^\d]/g, &#39;&#39;));
    
    // Check if balance is sufficient
    if (userBalance &lt; finalPrice) {
        showInsufficientBalanceDialog(finalPrice, userBalance);
        return;
    }
    
    // Confirm payment with custom dialog
    customConfirm(
        `Xác nhận thanh toán ${formatPrice(finalPrice)} VNĐ bằng số dư?`,
        async () =&gt; {
            // Disable button
            btn.disabled = true;
    btnText.innerHTML = `
        &lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke-width=&#34;1.8&#34; class=&#34;w-5 h-5 stroke-yellow-600 animate-spin inline-block&#34;&gt;
            &lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99&#34;&gt;&lt;/path&gt;
        &lt;/svg&gt;
        Đang xử lý...
    `;
    
    try {
        const orderData = {
            pricing_id: pricingId,
            quantity: 1,
            customer_email: email,
            customer_name: email.split(&#39;@&#39;)[0],
            payment_method: &#39;balance&#39;
        };
        
        // Add coupon if applied
        if (appliedCoupon &amp;&amp; appliedCoupon.coupon) {
            orderData.coupon_code = appliedCoupon.coupon.code;
        }
        
        const csrftoken = getCookie(&#39;csrftoken&#39;);
        
        const response = await fetch(&#39;/api/pay-with-balance/&#39;, {
            method: &#39;POST&#39;,
            headers: {
                &#39;Content-Type&#39;: &#39;application/json&#39;,
                &#39;X-CSRFToken&#39;: csrftoken || &#39;&#39;
            },
            credentials: &#39;same-origin&#39;,
            body: JSON.stringify(orderData)
        });
        
        const result = await response.json();
        
        if (result.success) {
            showToast(&#39;Thanh toán thành công!&#39;, &#39;success&#39;);
            
            // Update balance display
            document.getElementById(&#39;user_balance&#39;).textContent = formatPrice(result.new_balance) + &#39; VNĐ&#39;;
            
            // Hide form, show payment container
            document.getElementById(&#39;orderFormContainer&#39;).classList.add(&#39;hidden&#39;);
            document.getElementById(&#39;paymentContainer&#39;).classList.remove(&#39;hidden&#39;);
            
            // Show order info
            document.getElementById(&#39;display_order_id&#39;).textContent = result.order_id || &#39;N/A&#39;;
            document.getElementById(&#39;display_package_name&#39;).textContent = result.package_name || &#39;Key&#39;;
            document.getElementById(&#39;display_total_price&#39;).textContent = formatPrice(result.total_price) + &#39; VNĐ&#39;;
            document.getElementById(&#39;orderInfoSection&#39;).classList.remove(&#39;hidden&#39;);
            
            // Hide QR, bank info, and status sections (payment already done)
            document.getElementById(&#39;qrSection&#39;).classList.add(&#39;hidden&#39;);
            document.getElementById(&#39;bankInfoSection&#39;).classList.add(&#39;hidden&#39;);
            document.getElementById(&#39;statusContainer&#39;).classList.add(&#39;hidden&#39;);
            
            // Show keys section
            const keysContainer = document.getElementById(&#39;keysContainer&#39;);
            const keysList = document.getElementById(&#39;keys_list&#39;);
            
            keysContainer.classList.remove(&#39;hidden&#39;);
            
            // Store keys
            allKeysData = result.keys || [];
            
            // Display keys with compact design
            if (result.keys &amp;&amp; result.keys.length &gt; 0) {
                keysList.innerHTML = `
                    &lt;!-- Success Header --&gt;
                    &lt;div class=&#34;p-4 bg-green-500/10 border border-green-500/30 rounded-xl mb-4&#34;&gt;
                        &lt;div class=&#34;flex items-center gap-3&#34;&gt;
                            &lt;div class=&#34;flex items-center justify-center w-10 h-10 rounded-full bg-green-500/20&#34;&gt;
                                &lt;i class=&#34;fas fa-check text-green-400 text-lg&#34;&gt;&lt;/i&gt;
                            &lt;/div&gt;
                            &lt;div&gt;
                                &lt;p class=&#34;text-sm text-green-400 font-semibold&#34;&gt;Thanh toán thành công!&lt;/p&gt;
                                &lt;p class=&#34;text-xs text-gray-400&#34;&gt;Bạn đã nhận được ${result.keys.length} key&lt;/p&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    
                    &lt;!-- Keys List Title --&gt;
                    &lt;div class=&#34;flex items-center justify-between mb-3&#34;&gt;
                        &lt;h3 class=&#34;text-white font-semibold flex items-center gap-2&#34;&gt;
                            &lt;i class=&#34;fas fa-key text-green-400&#34;&gt;&lt;/i&gt;
                            Key của bạn
                        &lt;/h3&gt;
                    &lt;/div&gt;
                    
                    &lt;!-- Keys List --&gt;
                    &lt;div class=&#34;space-y-2 mb-4&#34;&gt;
                        ${result.keys.map((key, index) =&gt; `
                            &lt;div class=&#34;flex items-center gap-2 p-3 bg-black/30 rounded-lg border border-green-500/20 hover:border-green-500/40 transition-all&#34;&gt;
                                &lt;code class=&#34;text-green-400 font-mono text-sm flex-1 select-all&#34;&gt;${key}&lt;/code&gt;
                                &lt;button onclick=&#34;copyKey(&#39;${key}&#39;)&#34; class=&#34;p-2 hover:bg-green-500/10 text-green-400 rounded transition-all&#34; title=&#34;Copy key&#34;&gt;
                                    &lt;i class=&#34;fas fa-copy text-sm&#34;&gt;&lt;/i&gt;
                                &lt;/button&gt;
                            &lt;/div&gt;
                        `).join(&#39;&#39;)}
                    &lt;/div&gt;
                    
                    &lt;!-- Action Button --&gt;
                    &lt;button onclick=&#34;resetOrderForm()&#34; class=&#34;w-full py-3 rounded-xl font-medium bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white transition-all duration-300 shadow-lg hover:shadow-blue-500/50 transform hover:scale-[1.02] active:scale-[0.98]&#34;&gt;
                        &lt;i class=&#34;fas fa-plus mr-2&#34;&gt;&lt;/i&gt;Mua thêm gói key khác
                    &lt;/button&gt;
                `;
            }
            
        } else {
            showToast(result.message || &#39;Thanh toán thất bại&#39;, &#39;error&#39;);
            btn.disabled = false;
            btnText.innerHTML = &#39;&lt;i class=&#34;fas fa-wallet mr-2&#34;&gt;&lt;/i&gt;Thanh toán số dư&#39;;
        }
    } catch (error) {
        showToast(&#39;Lỗi kết nối: &#39; + error.message, &#39;error&#39;);
        btn.disabled = false;
        btnText.innerHTML = &#39;&lt;i class=&#34;fas fa-wallet mr-2&#34;&gt;&lt;/i&gt;Thanh toán số dư&#39;;
    }
        }
    );
}

// Handle quick order
function getCookie(name) {
    let cookieValue = null;
    if (document.cookie &amp;&amp; document.cookie !== &#39;&#39;) {
        const cookies = document.cookie.split(&#39;;&#39;);
        for (let i = 0; i &lt; cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.substring(0, name.length + 1) === (name + &#39;=&#39;)) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
}

async function handleQuickOrder(event) {
    event.preventDefault();
    
    const btn = document.getElementById(&#39;quickOrderBtn&#39;) || document.getElementById(&#39;bankTransferBtn&#39;);
    const btnText = document.getElementById(&#39;orderBtnText&#39;);
    const emailInput = document.getElementById(&#39;quick_email&#39;);
    const email = emailInput.value.trim();
    const pricingId = document.getElementById(&#39;selected_pricing_id&#39;).value;
    const emailError = document.getElementById(&#39;emailError&#39;);
    const emailErrorText = document.getElementById(&#39;emailErrorText&#39;);
    
    // Validate email (skip if user is authenticated and email is hidden)
    if (emailInput.type !== &#39;hidden&#39;) {
        const validation = validateEmail(email);
        
        if (!validation.valid) {
            emailErrorText.textContent = validation.message;
            emailError.classList.remove(&#39;hidden&#39;);
            emailInput.classList.remove(&#39;border-white/10&#39;);
            emailInput.classList.add(&#39;border-red-500&#39;);
            emailInput.focus();
            return;
        }
    }
    
    // Disable button
    if (btn) {
        btn.disabled = true;
        const originalText = btn.innerHTML;
        btn.innerHTML = &#39;&lt;i class=&#34;fas fa-spinner fa-spin mr-2&#34;&gt;&lt;/i&gt;Đang xử lý...&#39;;
    }
    
    try {
        const orderData = {
            pricing_id: pricingId,
            quantity: 1,
            customer_email: email,
            customer_name: email.split(&#39;@&#39;)[0]
        };
        
        // Add coupon if applied
        if (appliedCoupon &amp;&amp; appliedCoupon.coupon) {
            orderData.coupon_code = appliedCoupon.coupon.code;
        }
        
        // Get CSRF token
        const csrftoken = getCookie(&#39;csrftoken&#39;);
        console.log(&#39;CSRF Token:&#39;, csrftoken); // Debug
        console.log(&#39;Order Data:&#39;, orderData); // Debug
        
        const response = await fetch(&#39;/aovcheat/order/&#39;, {
            method: &#39;POST&#39;,
            headers: {
                &#39;Content-Type&#39;: &#39;application/json&#39;,
                &#39;X-CSRFToken&#39;: csrftoken || &#39;&#39;
            },
            credentials: &#39;same-origin&#39;,
            body: JSON.stringify(orderData)
        });
        
        const result = await response.json();
        
        if (result.success) {
            showToast(&#39;Đơn hàng đã được tạo!&#39;, &#39;success&#39;);
            
            // Load payment info
            await loadPaymentInfo(result.order_id);
            
        } else {
            showToast(result.message || &#39;Có lỗi xảy ra&#39;, &#39;error&#39;);
            if (btn) {
                btn.disabled = false;
                btn.innerHTML = &#39;&lt;i class=&#34;fas fa-credit-card mr-2&#34;&gt;&lt;/i&gt;&lt;span&gt;Hoặc chuyển khoản ngân hàng&lt;/span&gt;&#39;;
            }
        }
    } catch (error) {
        showToast(&#39;Lỗi kết nối: &#39; + error.message, &#39;error&#39;);
        if (btn) {
            btn.disabled = false;
            btn.innerHTML = &#39;&lt;i class=&#34;fas fa-credit-card mr-2&#34;&gt;&lt;/i&gt;&lt;span&gt;Hoặc chuyển khoản ngân hàng&lt;/span&gt;&#39;;
        }
    }
}

// Load payment info and show QR
async function loadPaymentInfo(orderId) {
    try {
        const response = await fetch(`/api/payment/${orderId}/`);
        const data = await response.json();
        
        if (data.success) {
            // Hide form, show payment
            document.getElementById(&#39;orderFormContainer&#39;).classList.add(&#39;hidden&#39;);
            document.getElementById(&#39;paymentContainer&#39;).classList.remove(&#39;hidden&#39;);
            
            // Update order info
            document.getElementById(&#39;display_order_id&#39;).textContent = data.order.order_id;
            document.getElementById(&#39;display_package_name&#39;).textContent = data.order.package_name;
            document.getElementById(&#39;display_total_price&#39;).textContent = formatPrice(data.order.total_price) + &#39; VNĐ&#39;;
            
            // Show QR code (VietQR URL)
            if (data.payment_info.qr_url) {
                document.getElementById(&#39;payment_qr&#39;).src = data.payment_info.qr_url;
            }
            
            // Show bank info
            document.getElementById(&#39;bank_name&#39;).textContent = data.payment_info.bank_name;
            document.getElementById(&#39;bank_account&#39;).textContent = data.payment_info.account_number;
            document.getElementById(&#39;bank_account_name&#39;).textContent = data.payment_info.account_name;
            document.getElementById(&#39;payment_content&#39;).textContent = data.payment_info.transfer_content; // &#34;THX XXXXXX&#34;
            
            // Start checking order status
            startStatusCheck(orderId);
        }
    } catch (error) {
        showToast(&#39;Lỗi tải thông tin thanh toán&#39;, &#39;error&#39;);
    }
}

// Check order status periodically
let statusCheckInterval = null;

function startStatusCheck(orderId) {
    // Clear existing interval
    if (statusCheckInterval) {
        clearInterval(statusCheckInterval);
    }
    
    // Check every 5 seconds
    statusCheckInterval = setInterval(async () =&gt; {
        try {
            const response = await fetch(`/api/payment/${orderId}/status/`);
            const data = await response.json();
            
            if (data.success &amp;&amp; data.order.status === &#39;delivered&#39;) {
                // Stop checking
                clearInterval(statusCheckInterval);
                
                // Hide ONLY QR and bank info sections (keep order info visible)
                document.getElementById(&#39;qrSection&#39;).classList.add(&#39;hidden&#39;);
                document.getElementById(&#39;bankInfoSection&#39;).classList.add(&#39;hidden&#39;);
                document.getElementById(&#39;statusContainer&#39;).classList.add(&#39;hidden&#39;);
                
                // Show keys section
                const keysContainer = document.getElementById(&#39;keysContainer&#39;);
                const keysList = document.getElementById(&#39;keys_list&#39;);
                
                keysContainer.classList.remove(&#39;hidden&#39;);
                
                // Store keys for copy all function
                allKeysData = data.keys || [];
                
                // Display keys with improved styling
                if (data.keys &amp;&amp; data.keys.length &gt; 0) {
                    keysList.innerHTML = `
                        &lt;!-- Success Header --&gt;
                        &lt;div class=&#34;p-4 bg-green-500/10 border border-green-500/30 rounded-xl mb-4&#34;&gt;
                            &lt;div class=&#34;flex items-center gap-3&#34;&gt;
                                &lt;div class=&#34;flex items-center justify-center w-10 h-10 rounded-full bg-green-500/20&#34;&gt;
                                    &lt;i class=&#34;fas fa-check text-green-400 text-lg&#34;&gt;&lt;/i&gt;
                                &lt;/div&gt;
                                &lt;div&gt;
                                    &lt;p class=&#34;text-sm text-green-400 font-semibold&#34;&gt;Thanh toán thành công!&lt;/p&gt;
                                    &lt;p class=&#34;text-xs text-gray-400&#34;&gt;Bạn đã nhận được ${data.keys.length} key&lt;/p&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                        
                        &lt;!-- Keys List Title --&gt;
                        &lt;div class=&#34;flex items-center justify-between mb-3&#34;&gt;
                            &lt;h3 class=&#34;text-white font-semibold flex items-center gap-2&#34;&gt;
                                &lt;i class=&#34;fas fa-key text-green-400&#34;&gt;&lt;/i&gt;
                                Key của bạn
                            &lt;/h3&gt;
                            &lt;button onclick=&#34;copyAllKeys()&#34; class=&#34;px-3 py-1.5 bg-green-500/20 hover:bg-green-500/30 text-green-400 text-xs rounded-lg transition-all border border-green-500/30&#34;&gt;
                                &lt;i class=&#34;fas fa-copy mr-1&#34;&gt;&lt;/i&gt;Copy tất cả
                            &lt;/button&gt;
                        &lt;/div&gt;
                        
                        &lt;!-- Keys List --&gt;
                        &lt;div class=&#34;space-y-2 mb-4&#34;&gt;
                            ${data.keys.map((key, index) =&gt; `
                                &lt;div class=&#34;flex items-center gap-2 p-3 bg-black/30 rounded-lg border border-green-500/20 hover:border-green-500/40 transition-all&#34;&gt;
                                    &lt;code class=&#34;text-green-400 font-mono text-sm flex-1 select-all&#34;&gt;${key}&lt;/code&gt;
                                    &lt;button onclick=&#34;copyKey(&#39;${key}&#39;)&#34; class=&#34;p-2 hover:bg-green-500/10 text-green-400 rounded transition-all&#34; title=&#34;Copy key&#34;&gt;
                                        &lt;i class=&#34;fas fa-copy text-sm&#34;&gt;&lt;/i&gt;
                                    &lt;/button&gt;
                                &lt;/div&gt;
                            `).join(&#39;&#39;)}
                        &lt;/div&gt;
                        
                        &lt;!-- Action Button --&gt;
                        &lt;button onclick=&#34;resetOrderForm()&#34; class=&#34;w-full py-3 rounded-xl font-medium bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white transition-all duration-300 shadow-lg hover:shadow-blue-500/50 transform hover:scale-[1.02] active:scale-[0.98]&#34;&gt;
                            &lt;i class=&#34;fas fa-plus mr-2&#34;&gt;&lt;/i&gt;Mua thêm gói key khác
                        &lt;/button&gt;
                    `;
                } else {
                    keysList.innerHTML = &#39;&lt;p class=&#34;text-gray-400 text-sm text-center py-8&#34;&gt;Không có key&lt;/p&gt;&#39;;
                }
                
                showToast(&#39;Đã nhận key thành công!&#39;, &#39;success&#39;);
            }
        } catch (error) {
            console.error(&#39;Error checking status:&#39;, error);
        }
    }, 5000);
}

// Copy key to clipboard
function copyKey(key) {
    navigator.clipboard.writeText(key).then(() =&gt; {
        showToast(&#39;Đã copy key!&#39;, &#39;success&#39;);
    }).catch(() =&gt; {
        showToast(&#39; Không thể copy&#39;, &#39;error&#39;);
    });
}

// Copy all keys to clipboard
let allKeysData = [];
function copyAllKeys() {
    if (allKeysData.length === 0) {
        showToast(&#39; Không có key để copy&#39;, &#39;error&#39;);
        return;
    }
    
    const keysText = allKeysData.join(&#39;\n&#39;);
    navigator.clipboard.writeText(keysText).then(() =&gt; {
        showToast(`Đã copy ${allKeysData.length} key!`, &#39;success&#39;);
    }).catch(() =&gt; {
        showToast(&#39; Không thể copy&#39;, &#39;error&#39;);
    });
}

// Copy text from element by ID
function copyText(elementId, label) {
    const text = document.getElementById(elementId).textContent;
    navigator.clipboard.writeText(text).then(() =&gt; {
        showToast(`Đã copy ${label}!`, &#39;success&#39;);
    }).catch(() =&gt; {
        showToast(&#39; Không thể copy&#39;, &#39;error&#39;);
    });
}

// Cancel order
function cancelOrder() {
    customConfirm(
        &#39;Bạn có chắc muốn hủy đơn hàng này?&#39;,
        () =&gt; {
            // Clear interval
            if (statusCheckInterval) {
                clearInterval(statusCheckInterval);
            }
            
            // Show success message
            showToast(&#39;Đã hủy đơn hàng&#39;, &#39;success&#39;);
            
            // Reset form
            resetOrderForm();
        }
    );
}

// Reset form for new order
function resetOrderForm() {
    // Clear interval
    if (statusCheckInterval) {
        clearInterval(statusCheckInterval);
    }
    
    // Clear keys data
    allKeysData = [];
    
    // Clear applied coupon
    appliedCoupon = null;
    
    // Show form, hide payment and keys
    document.getElementById(&#39;orderFormContainer&#39;).classList.remove(&#39;hidden&#39;);
    document.getElementById(&#39;paymentContainer&#39;).classList.add(&#39;hidden&#39;);
    document.getElementById(&#39;keysContainer&#39;).classList.add(&#39;hidden&#39;);
    
    // Reset form
    document.getElementById(&#39;quickOrderForm&#39;).reset();
    const quickOrderBtn = document.getElementById(&#39;quickOrderBtn&#39;);
    const bankTransferBtn = document.getElementById(&#39;bankTransferBtn&#39;);
    
    if (quickOrderBtn) {
        quickOrderBtn.disabled = false;
        const orderBtnText = document.getElementById(&#39;orderBtnText&#39;);
        if (orderBtnText) {
            orderBtnText.innerHTML = &#39;&lt;i class=&#34;fas fa-shopping-cart mr-2&#34;&gt;&lt;/i&gt;Đặt mua ngay&#39;;
        }
    }
    
    if (bankTransferBtn) {
        bankTransferBtn.disabled = false;
        bankTransferBtn.innerHTML = &#39;&lt;i class=&#34;fas fa-credit-card text-xs&#34;&gt;&lt;/i&gt;&lt;span&gt;Hoặc chuyển khoản ngân hàng&lt;/span&gt;&#39;;
    }
    
    // Reset balance button if exists
    const balanceBtn = document.getElementById(&#39;balancePayBtn&#39;);
    const balanceBtnText = document.getElementById(&#39;balancePayBtnText&#39;);
    if (balanceBtn &amp;&amp; balanceBtnText) {
        balanceBtn.disabled = false;
        balanceBtnText.innerHTML = `
            &lt;svg xmlns=&#34;http://www.w3.org/2000/svg&#34; fill=&#34;none&#34; viewBox=&#34;0 0 24 24&#34; stroke-width=&#34;1.8&#34; class=&#34;w-5 h-5 stroke-yellow-600 group-hover:stroke-yellow-500&#34;&gt;
                &lt;path stroke-linecap=&#34;round&#34; stroke-linejoin=&#34;round&#34; d=&#34;M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z&#34;&gt;&lt;/path&gt;
            &lt;/svg&gt;
            Thanh toán bằng số dư
        `;
    }
    
    // Reset payment containers
    document.getElementById(&#39;statusContainer&#39;).classList.remove(&#39;hidden&#39;);
    
    // Clear keys list
    document.getElementById(&#39;keys_list&#39;).innerHTML = &#39;&#39;;
    
    // Reset coupon UI
    const couponInput = document.getElementById(&#39;coupon_code&#39;);
    const couponInputContainer = document.getElementById(&#39;couponInputContainer&#39;);
    const couponToggleLink = document.getElementById(&#39;couponToggleLink&#39;);
    
    if (couponInput) {
        couponInput.value = &#39;&#39;;
        document.getElementById(&#39;couponSuccess&#39;).classList.add(&#39;hidden&#39;);
        document.getElementById(&#39;couponError&#39;).classList.add(&#39;hidden&#39;);
        document.getElementById(&#39;couponSpinner&#39;).classList.add(&#39;hidden&#39;);
        couponInput.classList.remove(&#39;border-green-500&#39;, &#39;border-red-500&#39;);
        couponInput.classList.add(&#39;border-white/10&#39;);
        
        // Hide input container, show toggle link
        if (couponInputContainer) {
            couponInputContainer.classList.add(&#39;hidden&#39;);
        }
        if (couponToggleLink) {
            couponToggleLink.classList.remove(&#39;hidden&#39;);
        }
    }
    
    // Reset email section visibility
    document.getElementById(&#39;emailSection&#39;).classList.add(&#39;hidden&#39;);
    
    updatePriceDisplay();
    
    showToast(&#39;✨ Sẵn sàng tạo đơn mới!&#39;, &#39;success&#39;);
}

// Carousel functions
function updateCarousel() {
    const carousel = document.getElementById(&#39;carouselInner&#39;);
    if (carousel) {
        carousel.style.transform = `translateX(-${currentSlide * 100}%)`;
        
        // Update dots
        document.querySelectorAll(&#39;.dot&#39;).forEach((dot, index) =&gt; {
            if (index === currentSlide) {
                dot.classList.add(&#39;bg-purple-500&#39;, &#39;w-6&#39;);
                dot.classList.remove(&#39;bg-white/30&#39;, &#39;w-2&#39;);
            } else {
                dot.classList.remove(&#39;bg-purple-500&#39;, &#39;w-6&#39;);
                dot.classList.add(&#39;bg-white/30&#39;, &#39;w-2&#39;);
            }
        });
        
        // Auto-play video when scrolled to
        handleVideoAutoplay();
    }
}

// Handle video autoplay in carousel
function handleVideoAutoplay() {
    const videos = document.querySelectorAll(&#39;.carousel-video&#39;);
    videos.forEach((video, index) =&gt; {
        if (index === currentSlide) {
            // Reset to beginning and play current video
            video.currentTime = 0;
            video.play().catch(e =&gt; {
                // If autoplay fails, try muted
                video.muted = true;
                video.play().catch(err =&gt; console.log(&#39;Video autoplay blocked:&#39;, err));
            });
        } else {
            // Pause other videos and reset
            video.pause();
            video.currentTime = 0;
        }
    });
}

function nextSlide() {
    currentSlide = (currentSlide + 1) % totalSlides;
    updateCarousel();
}

function prevSlide() {
    currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
    updateCarousel();
}

function goToSlide(index) {
    currentSlide = index;
    updateCarousel();
}

// Initialize autoplay for first slide
let userInteracted = false;  // Track if user manually scrolled
let autoScrollTimeout = null; // For auto-scroll delay

document.addEventListener(&#39;DOMContentLoaded&#39;, function() {
    handleVideoAutoplay();
    
    // Setup Intersection Observer for video autoplay when scrolled into view
    const videoObserverOptions = {
        root: null, // viewport
        threshold: 0.5, // 50% of video must be visible
        rootMargin: &#39;0px&#39;
    };
    
    const videoObserver = new IntersectionObserver((entries) =&gt; {
        entries.forEach(entry =&gt; {
            const video = entry.target;
            
            if (entry.isIntersecting) {
                // Video is in viewport - play it
                video.play().catch(e =&gt; {
                    console.log(&#39;Autoplay prevented:&#39;, e);
                    // If autoplay is blocked, try muted autoplay
                    video.muted = true;
                    video.play().catch(err =&gt; console.log(&#39;Muted autoplay also prevented:&#39;, err));
                });
                
                // Setup auto-advance when video ends (only if user hasn&#39;t manually scrolled)
                video.onended = function() {
                    if (!userInteracted &amp;&amp; totalSlides &gt; 1) {
                        // Wait a bit before auto-advancing
                        autoScrollTimeout = setTimeout(() =&gt; {
                            nextSlide();
                            userInteracted = false; // Reset for next video
                        }, 500);
                    } else {
                        // Loop the video if user is watching
                        video.currentTime = 0;
                        video.play();
                    }
                };
            } else {
                // Video is out of viewport - pause it
                video.pause();
                
                // Clear auto-scroll timeout if video goes out of view
                if (autoScrollTimeout) {
                    clearTimeout(autoScrollTimeout);
                    autoScrollTimeout = null;
                }
            }
        });
    }, videoObserverOptions);
    
    // Observe all carousel videos
    const carouselVideos = document.querySelectorAll(&#39;.carousel-video&#39;);
    carouselVideos.forEach(video =&gt; {
        videoObserver.observe(video);
    });
    
    // Detect manual user interaction (click on navigation, dots, swipe)
    const navButtons = document.querySelectorAll(&#39;[onclick*=&#34;Slide&#34;], .dot&#39;);
    navButtons.forEach(button =&gt; {
        button.addEventListener(&#39;click&#39;, () =&gt; {
            userInteracted = true;
            
            // Clear auto-scroll timeout
            if (autoScrollTimeout) {
                clearTimeout(autoScrollTimeout);
                autoScrollTimeout = null;
            }
            
            // Reset interaction flag after 10 seconds
            setTimeout(() =&gt; {
                userInteracted = false;
            }, 10000);
        });
    });
    
    // Detect touch/swipe gestures
    let touchStartX = 0;
    let touchEndX = 0;
    
    const carousel = document.querySelector(&#39;.relative.overflow-hidden&#39;);
    if (carousel) {
        carousel.addEventListener(&#39;touchstart&#39;, (e) =&gt; {
            touchStartX = e.changedTouches[0].screenX;
        });
        
        carousel.addEventListener(&#39;touchend&#39;, (e) =&gt; {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });
    }
    
    function handleSwipe() {
        const swipeThreshold = 50;
        const diff = touchStartX - touchEndX;
        
        if (Math.abs(diff) &gt; swipeThreshold) {
            userInteracted = true;
            
            if (diff &gt; 0) {
                // Swipe left - next slide
                nextSlide();
            } else {
                // Swipe right - previous slide
                prevSlide();
            }
            
            // Reset interaction flag after 10 seconds
            setTimeout(() =&gt; {
                userInteracted = false;
            }, 10000);
        }
    }
});

// Toggle video mute/unmute
function toggleVideoMute(index) {
    const video = document.getElementById(`video-${index}`);
    const icon = document.getElementById(`muteIcon-${index}`);
    const btn = document.getElementById(`muteBtn-${index}`);
    
    if (video &amp;&amp; icon) {
        // Toggle mute state
        video.muted = !video.muted;
        
        // Update icon based on actual video state
        if (video.muted) {
            icon.className = &#39;fas fa-volume-mute&#39;;
        } else {
            icon.className = &#39;fas fa-volume-up&#39;;
            // Mark as user interacted when unmuting
            userInteracted = true;
            setTimeout(() =&gt; {
                userInteracted = false;
            }, 10000);
        }
        
        // Add visual feedback
        if (btn) {
            btn.classList.add(&#39;scale-125&#39;);
            setTimeout(() =&gt; {
                btn.classList.remove(&#39;scale-125&#39;);
            }, 200);
        }
    }
}

function openImageModal(imageUrl) {
    const modal = document.getElementById(&#39;imageModal&#39;);
    const modalImage = document.getElementById(&#39;modalImage&#39;);
    modalImage.src = imageUrl;
    modal.classList.remove(&#39;hidden&#39;);
    modal.classList.add(&#39;flex&#39;);
    document.body.style.overflow = &#39;hidden&#39;;
}

function closeImageModal() {
    const modal = document.getElementById(&#39;imageModal&#39;);
    modal.classList.add(&#39;hidden&#39;);
    modal.classList.remove(&#39;flex&#39;);
    document.body.style.overflow = &#39;&#39;;
}

function openVideoModal(videoUrl) {
    const modal = document.getElementById(&#39;videoModal&#39;);
    const modalVideo = document.getElementById(&#39;modalVideo&#39;);
    modalVideo.src = videoUrl;
    modal.classList.remove(&#39;hidden&#39;);
    modal.classList.add(&#39;flex&#39;);
    document.body.style.overflow = &#39;hidden&#39;;
    // Auto play in modal
    modalVideo.play();
}

function closeVideoModal() {
    const modal = document.getElementById(&#39;videoModal&#39;);
    const modalVideo = document.getElementById(&#39;modalVideo&#39;);
    modalVideo.pause();
    modalVideo.src = &#39;&#39;;
    modal.classList.add(&#39;hidden&#39;);
    modal.classList.remove(&#39;flex&#39;);
    document.body.style.overflow = &#39;&#39;;
}

// Close modal on ESC key
document.addEventListener(&#39;keydown&#39;, function(e) {
    if (e.key === &#39;Escape&#39;) {
        closeImageModal();
        closeVideoModal();
    }
});

// Format initial price on page load
document.addEventListener(&#39;DOMContentLoaded&#39;, function() {
    // Format initial price display
    const priceDisplay = document.getElementById(&#39;price_display&#39;);
    if (priceDisplay &amp;&amp; priceDisplay.textContent) {
        const currentPrice = priceDisplay.textContent.replace(/[^\d]/g, &#39;&#39;);
        if (currentPrice) {
            priceDisplay.textContent = formatPrice(currentPrice) + &#39; VNĐ&#39;;
        }
    }
    
    // Format all option prices in select
    const selectOptions = document.querySelectorAll(&#39;#selected_pricing_id option&#39;);
    selectOptions.forEach(option =&gt; {
        const price = option.getAttribute(&#39;data-price&#39;);
        if (price) {
            const duration = option.textContent.split(&#39; - &#39;)[0];
            option.textContent = duration + &#39; - &#39; + formatPrice(price) + &#39; VNĐ&#39;;
        }
    });
});
        </script>
      </main>
      <!-- Footer -->
      <footer class="border-t border-white/10 bg-gradient-to-br from-[#010101] via-[#090909] to-[#010101] mt-auto">
        <div class="container mx-auto px-4 py-8">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
            <!-- Quick Links -->
            <div class="text-center md:text-left">
              <h4 class="text-sm font-semibold text-white mb-4">
                Liên kết nhanh
              </h4>
              <ul class="space-y-3 flex flex-col items-center md:items-start">
                <li>
                  <a href="/" class="text-gray-400 hover:text-blue-400 transition-colors no-underline text-sm">                  Trang chủ
</a>
                </li>
                <li>
                  <a href="/installation-guide/" class="text-gray-400 hover:text-blue-400 transition-colors no-underline text-sm">                  Hướng dẫn cài đặt
</a>
                </li>
                <li>
                  <a href="/faq/" class="text-gray-400 hover:text-blue-400 transition-colors no-underline text-sm">                  Câu hỏi thường gặp
</a>
                </li>
              </ul>
            </div>
            <!-- Contact -->
            <div class="text-center md:text-left">
              <h4 class="text-sm font-semibold text-white mb-4">
                Liên hệ
              </h4>
              <ul class="flex flex-wrap gap-6 justify-center md:justify-start">
                <li>
                  <a href="https://t.me/anhvu99er" target="_blank" class="text-gray-400 hover:text-blue-400 transition-colors no-underline flex items-center gap-2 text-sm">                  <img src="https://img.icons8.com/fluency/16/telegram-app.png" alt="telegram" />
                  Telegram
</a>
                </li>
                <li>
                  <a href="https://zalo.me/0377116456" target="_blank" class="text-gray-400 hover:text-blue-500 transition-colors no-underline flex items-center gap-2 text-sm">                  <img src="https://img.icons8.com/?size=16&amp;id=0m71tmRjlxEe&amp;format=png&amp;color=000000" alt="zalo" class="w-4 h-4" />
                  Zalo
</a>
                </li>
                <li>
                  <a href="https://facebook.com/anhvu99ers" target="_blank" class="text-gray-400 hover:text-blue-600 transition-colors no-underline flex items-center gap-2 text-sm">                  <img src="https://img.icons8.com/?size=16&amp;id=20419&amp;format=png&amp;color=000000" alt="facebook" />
                  Messenger
</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="border-t border-white/10 mt-8 pt-6 text-center">
            <p class="text-sm text-gray-400">
              © 2025 Anhvu.cc
            </p>
          </div>
        </div>
      </footer>
    </div>
    <script>
      // Mobile menu toggle
    const mobileMenuBtn = document.getElementById(&#39;mobileMenuBtn&#39;);
    const mobileMenu = document.getElementById(&#39;mobileMenu&#39;);
    
    if (mobileMenuBtn &amp;&amp; mobileMenu) {
        mobileMenuBtn.addEventListener(&#39;click&#39;, function() {
            const isHidden = mobileMenu.classList.contains(&#39;hidden&#39;);
            
            if (isHidden) {
                mobileMenu.classList.remove(&#39;hidden&#39;);
                mobileMenuBtn.querySelector(&#39;i&#39;).classList.remove(&#39;fa-bars&#39;);
                mobileMenuBtn.querySelector(&#39;i&#39;).classList.add(&#39;fa-times&#39;);
            } else {
                mobileMenu.classList.add(&#39;hidden&#39;);
                mobileMenuBtn.querySelector(&#39;i&#39;).classList.remove(&#39;fa-times&#39;);
                mobileMenuBtn.querySelector(&#39;i&#39;).classList.add(&#39;fa-bars&#39;);
            }
        });
        
        // Close menu when clicking outside
        document.addEventListener(&#39;click&#39;, function(event) {
            if (!mobileMenuBtn.contains(event.target) &amp;&amp; !mobileMenu.contains(event.target)) {
                if (!mobileMenu.classList.contains(&#39;hidden&#39;)) {
                    mobileMenu.classList.add(&#39;hidden&#39;);
                    mobileMenuBtn.querySelector(&#39;i&#39;).classList.remove(&#39;fa-times&#39;);
                    mobileMenuBtn.querySelector(&#39;i&#39;).classList.add(&#39;fa-bars&#39;);
                }
            }
        });
    }
    </script>
  </body>
</html>
